{
  "version": 1,
  "minor_version": 1,
  "key": "trace.saved_traces",
  "data": {
    "automation.1664911918906": [
      {
        "extended_dict": {
          "last_step": "action/0/choose/0/sequence/0",
          "run_id": "5ae1e955feb93a7301678015804507af",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:32.373469+00:00",
            "finish": "2022-10-18T01:16:32.441658+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "error": "coroutine raised StopIteration",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/1": [
              {
                "path": "trigger/1",
                "timestamp": "2022-10-18T01:16:32.374122+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_2354_climate_entities",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:30.134642+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1664911918906",
                      "friendly_name": "Set 2354 Climate Entities"
                    },
                    "last_changed": "2022-10-18T01:14:13.088973+00:00",
                    "last_updated": "2022-10-18T01:16:30.181010+00:00",
                    "context": {
                      "id": "01GFMAKQHNTBJP0HGW8MCP5WS4",
                      "parent_id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "1",
                    "idx": "1",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 53.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:16:30.123690+00:00",
                      "last_updated": "2022-10-18T01:16:30.123690+00:00",
                      "context": {
                        "id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "off",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 53.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:16:32.367723+00:00",
                      "last_updated": "2022-10-18T01:16:32.367723+00:00",
                      "context": {
                        "id": "01GFMAKSQBRJPH9MRY0AH4VGAS",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": null,
                    "description": "state of climate.climate_controller"
                  },
                  "use_hp": "on",
                  "controller": "climate.climate_controller"
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-18T01:16:32.378327+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GFMAKSQNNBAJ73WH0WJ3PVR9",
                    "parent_id": "01GFMAKSQBRJPH9MRY0AH4VGAS",
                    "user_id": null
                  }
                },
                "error": "coroutine raised StopIteration",
                "result": {
                  "choice": 0
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-18T01:16:32.378560+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:16:32.378654+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "action/0/choose/0/sequence/0": [
              {
                "path": "action/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:16:32.380418+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_heat_pump_hvac_mode",
                  "run_id": "ec9c327b05cbb8c9d3b9aa1f0efbd9fe"
                },
                "error": "coroutine raised StopIteration",
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_heat_pump_hvac_mode",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ]
          },
          "config": {
            "variables": {
              "use_hp": "{{ states('binary_sensor.use_heat_pump') }}",
              "controller": "climate.climate_controller"
            },
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": "{{ use_hp == 'on' }}",
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "script.set_2354_e_hp_temp"
                      },
                      {
                        "service": "script.set_2354_w_hp_temp"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": "climate.2354_ecobee_thermostat"
                        }
                      }
                    ]
                  },
                  {
                    "conditions": "{{ use_hp == 'off' }}",
                    "sequence": [
                      {
                        "service": "script.set_2354_boiler_temp"
                      },
                      {
                        "service": "climate.turn_off",
                        "data": {
                          "entity_id": [
                            "climate.2354_kitchen_heat_pump",
                            "climate.2354_dining_room_heat_pump"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_temperature",
                    "data": {
                      "temperature": "{{ state_attr(controller, 'temperature') }}"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ],
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354"
          },
          "blueprint_inputs": {
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354",
            "use_blueprint": {
              "path": "climate/set_climate_entities.yaml",
              "input": {
                "climate_controller": "climate.climate_controller",
                "e_heat_pump": "climate.2354_kitchen_heat_pump",
                "w_heat_pump": "climate.2354_dining_room_heat_pump",
                "boiler_therm": "climate.2354_ecobee_thermostat",
                "boiler_set_temp_script": "script.set_2354_boiler_temp",
                "e_hp_set_temp_script": "script.set_2354_e_hp_temp",
                "w_hp_set_temp_script": "script.set_2354_w_hp_temp"
              }
            }
          },
          "context": {
            "id": "01GFMAKSQNNBAJ73WH0WJ3PVR9",
            "parent_id": "01GFMAKSQBRJPH9MRY0AH4VGAS",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/0/sequence/0",
          "run_id": "5ae1e955feb93a7301678015804507af",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:32.373469+00:00",
            "finish": "2022-10-18T01:16:32.441658+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "error": "coroutine raised StopIteration",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/choose/0/sequence/1",
          "run_id": "a006df50aca45ffe6eebb3637507bd4c",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:33.364717+00:00",
            "finish": "2022-10-18T01:16:33.410501+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/1": [
              {
                "path": "trigger/1",
                "timestamp": "2022-10-18T01:16:33.365831+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_2354_climate_entities",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:32.374471+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1664911918906",
                      "friendly_name": "Set 2354 Climate Entities"
                    },
                    "last_changed": "2022-10-18T01:14:13.088973+00:00",
                    "last_updated": "2022-10-18T01:16:32.431338+00:00",
                    "context": {
                      "id": "01GFMAKSQNNBAJ73WH0WJ3PVR9",
                      "parent_id": "01GFMAKSQBRJPH9MRY0AH4VGAS",
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "1",
                    "idx": "1",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "off",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 53.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:16:32.367723+00:00",
                      "last_updated": "2022-10-18T01:16:32.367723+00:00",
                      "context": {
                        "id": "01GFMAKSQBRJPH9MRY0AH4VGAS",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 53.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:16:33.358815+00:00",
                      "last_updated": "2022-10-18T01:16:33.358815+00:00",
                      "context": {
                        "id": "01GFMAKTPC8AB2TC2P986SY846",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": null,
                    "description": "state of climate.climate_controller"
                  },
                  "use_hp": "on",
                  "controller": "climate.climate_controller"
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-18T01:16:33.370271+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GFMAKTPMRXPGTKYG26HVDWTQ",
                    "parent_id": "01GFMAKTPC8AB2TC2P986SY846",
                    "user_id": null
                  }
                },
                "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
                "result": {
                  "choice": 0
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-18T01:16:33.370461+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:16:33.370534+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "action/0/choose/0/sequence/0": [
              {
                "path": "action/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:16:33.371520+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_heat_pump_hvac_mode",
                  "run_id": "49df7578e21a0c44ee7fd810028c4224"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_heat_pump_hvac_mode",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/1": [
              {
                "path": "action/0/choose/0/sequence/1",
                "timestamp": "2022-10-18T01:16:33.382077+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_2354_e_hp_temp",
                  "run_id": "a7c13cec7f48759ddc26728983a23116"
                },
                "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ]
          },
          "config": {
            "variables": {
              "use_hp": "{{ states('binary_sensor.use_heat_pump') }}",
              "controller": "climate.climate_controller"
            },
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": "{{ use_hp == 'on' }}",
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "script.set_2354_e_hp_temp"
                      },
                      {
                        "service": "script.set_2354_w_hp_temp"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": "climate.2354_ecobee_thermostat"
                        }
                      }
                    ]
                  },
                  {
                    "conditions": "{{ use_hp == 'off' }}",
                    "sequence": [
                      {
                        "service": "script.set_2354_boiler_temp"
                      },
                      {
                        "service": "climate.turn_off",
                        "data": {
                          "entity_id": [
                            "climate.2354_kitchen_heat_pump",
                            "climate.2354_dining_room_heat_pump"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_temperature",
                    "data": {
                      "temperature": "{{ state_attr(controller, 'temperature') }}"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ],
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354"
          },
          "blueprint_inputs": {
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354",
            "use_blueprint": {
              "path": "climate/set_climate_entities.yaml",
              "input": {
                "climate_controller": "climate.climate_controller",
                "e_heat_pump": "climate.2354_kitchen_heat_pump",
                "w_heat_pump": "climate.2354_dining_room_heat_pump",
                "boiler_therm": "climate.2354_ecobee_thermostat",
                "boiler_set_temp_script": "script.set_2354_boiler_temp",
                "e_hp_set_temp_script": "script.set_2354_e_hp_temp",
                "w_hp_set_temp_script": "script.set_2354_w_hp_temp"
              }
            }
          },
          "context": {
            "id": "01GFMAKTPMRXPGTKYG26HVDWTQ",
            "parent_id": "01GFMAKTPC8AB2TC2P986SY846",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/0/sequence/1",
          "run_id": "a006df50aca45ffe6eebb3637507bd4c",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:33.364717+00:00",
            "finish": "2022-10-18T01:16:33.410501+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/choose/0/sequence/3",
          "run_id": "9e37b26f1cf6474bc2d58a531bbc1fdd",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:25.842878+00:00",
            "finish": "2022-10-18T01:24:27.078758+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/1": [
              {
                "path": "trigger/1",
                "timestamp": "2022-10-18T01:24:25.843813+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_2354_climate_entities",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:33.366361+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1664911918906",
                      "friendly_name": "Set 2354 Climate Entities"
                    },
                    "last_changed": "2022-10-18T01:23:59.676706+00:00",
                    "last_updated": "2022-10-18T01:23:59.676706+00:00",
                    "context": {
                      "id": "01GFMB1EHWZ50S52AY52XNZ11W",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "1",
                    "idx": "1",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:23:54.387452+00:00",
                      "last_updated": "2022-10-18T01:23:54.387452+00:00",
                      "context": {
                        "id": "01GFMB19CKRRKZAYVV8H0JZVEJ",
                        "parent_id": null,
                        "user_id": null
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "off",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:24:25.835065+00:00",
                      "last_updated": "2022-10-18T01:24:25.835065+00:00",
                      "context": {
                        "id": "01GFMB282VS0HYXDQKRF6GS9WN",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": null,
                    "description": "state of climate.climate_controller"
                  },
                  "use_hp": "on",
                  "controller": "climate.climate_controller"
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-18T01:24:25.848993+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                    "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-18T01:24:25.851934+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:25.852063+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "action/0/choose/0/sequence/0": [
              {
                "path": "action/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:25.853942+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_heat_pump_hvac_mode",
                  "run_id": "49993a2c9262134587701bcc19f33dd8"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_heat_pump_hvac_mode",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/1": [
              {
                "path": "action/0/choose/0/sequence/1",
                "timestamp": "2022-10-18T01:24:26.012261+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_2354_e_hp_temp",
                  "run_id": "99a9aed350d2654f220a5170dfcdb926"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/2": [
              {
                "path": "action/0/choose/0/sequence/2",
                "timestamp": "2022-10-18T01:24:26.036142+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_2354_w_hp_temp",
                  "run_id": "046e743f0dfc2f88305435642f1db953"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_2354_w_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/3": [
              {
                "path": "action/0/choose/0/sequence/3",
                "timestamp": "2022-10-18T01:24:26.061977+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "variables": {
              "use_hp": "{{ states('binary_sensor.use_heat_pump') }}",
              "controller": "climate.climate_controller"
            },
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": "{{ use_hp == 'on' }}",
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "script.set_2354_e_hp_temp"
                      },
                      {
                        "service": "script.set_2354_w_hp_temp"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": "climate.2354_ecobee_thermostat"
                        }
                      }
                    ]
                  },
                  {
                    "conditions": "{{ use_hp == 'off' }}",
                    "sequence": [
                      {
                        "service": "script.set_2354_boiler_temp"
                      },
                      {
                        "service": "climate.turn_off",
                        "data": {
                          "entity_id": [
                            "climate.2354_kitchen_heat_pump",
                            "climate.2354_dining_room_heat_pump"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_temperature",
                    "data": {
                      "temperature": "{{ state_attr(controller, 'temperature') }}"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ],
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354"
          },
          "blueprint_inputs": {
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354",
            "use_blueprint": {
              "path": "climate/set_climate_entities.yaml",
              "input": {
                "climate_controller": "climate.climate_controller",
                "e_heat_pump": "climate.2354_kitchen_heat_pump",
                "w_heat_pump": "climate.2354_dining_room_heat_pump",
                "boiler_therm": "climate.2354_ecobee_thermostat",
                "boiler_set_temp_script": "script.set_2354_boiler_temp",
                "e_hp_set_temp_script": "script.set_2354_e_hp_temp",
                "w_hp_set_temp_script": "script.set_2354_w_hp_temp"
              }
            }
          },
          "context": {
            "id": "01GFMB283J13EFHHW9RVXRP4AQ",
            "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/0/sequence/3",
          "run_id": "9e37b26f1cf6474bc2d58a531bbc1fdd",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:25.842878+00:00",
            "finish": "2022-10-18T01:24:27.078758+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/choose/0/sequence/3",
          "run_id": "4b3c858d88c255e7b321ebea39626c2d",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.430565+00:00",
            "finish": "2022-10-18T01:24:28.926031+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/1": [
              {
                "path": "trigger/1",
                "timestamp": "2022-10-18T01:24:27.431462+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_2354_climate_entities",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:25.844153+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1664911918906",
                      "friendly_name": "Set 2354 Climate Entities"
                    },
                    "last_changed": "2022-10-18T01:23:59.676706+00:00",
                    "last_updated": "2022-10-18T01:24:27.077029+00:00",
                    "context": {
                      "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                      "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "1",
                    "idx": "1",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "off",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:24:25.835065+00:00",
                      "last_updated": "2022-10-18T01:24:25.835065+00:00",
                      "context": {
                        "id": "01GFMB282VS0HYXDQKRF6GS9WN",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:24:27.424817+00:00",
                      "last_updated": "2022-10-18T01:24:27.424817+00:00",
                      "context": {
                        "id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": null,
                    "description": "state of climate.climate_controller"
                  },
                  "use_hp": "on",
                  "controller": "climate.climate_controller"
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-18T01:24:27.435640+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                    "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-18T01:24:27.435894+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:27.435999+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "action/0/choose/0/sequence/0": [
              {
                "path": "action/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:27.437267+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_heat_pump_hvac_mode",
                  "run_id": "7f4870d430f6059ae2098ce9f8fd9aa2"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_heat_pump_hvac_mode",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/1": [
              {
                "path": "action/0/choose/0/sequence/1",
                "timestamp": "2022-10-18T01:24:27.546824+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_2354_e_hp_temp",
                  "run_id": "8cc7681d8c338552059cfd5d29f8fe5d"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/2": [
              {
                "path": "action/0/choose/0/sequence/2",
                "timestamp": "2022-10-18T01:24:27.716188+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_2354_w_hp_temp",
                  "run_id": "8d6b4df16bd853b0741ee9400fbd3e83"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_2354_w_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/3": [
              {
                "path": "action/0/choose/0/sequence/3",
                "timestamp": "2022-10-18T01:24:27.856500+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "variables": {
              "use_hp": "{{ states('binary_sensor.use_heat_pump') }}",
              "controller": "climate.climate_controller"
            },
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": "{{ use_hp == 'on' }}",
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "script.set_2354_e_hp_temp"
                      },
                      {
                        "service": "script.set_2354_w_hp_temp"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": "climate.2354_ecobee_thermostat"
                        }
                      }
                    ]
                  },
                  {
                    "conditions": "{{ use_hp == 'off' }}",
                    "sequence": [
                      {
                        "service": "script.set_2354_boiler_temp"
                      },
                      {
                        "service": "climate.turn_off",
                        "data": {
                          "entity_id": [
                            "climate.2354_kitchen_heat_pump",
                            "climate.2354_dining_room_heat_pump"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_temperature",
                    "data": {
                      "temperature": "{{ state_attr(controller, 'temperature') }}"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ],
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354"
          },
          "blueprint_inputs": {
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354",
            "use_blueprint": {
              "path": "climate/set_climate_entities.yaml",
              "input": {
                "climate_controller": "climate.climate_controller",
                "e_heat_pump": "climate.2354_kitchen_heat_pump",
                "w_heat_pump": "climate.2354_dining_room_heat_pump",
                "boiler_therm": "climate.2354_ecobee_thermostat",
                "boiler_set_temp_script": "script.set_2354_boiler_temp",
                "e_hp_set_temp_script": "script.set_2354_e_hp_temp",
                "w_hp_set_temp_script": "script.set_2354_w_hp_temp"
              }
            }
          },
          "context": {
            "id": "01GFMB29N61H9X6YM1CCREHN6Z",
            "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/0/sequence/3",
          "run_id": "4b3c858d88c255e7b321ebea39626c2d",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.430565+00:00",
            "finish": "2022-10-18T01:24:28.926031+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/choose/0/sequence/3",
          "run_id": "434f2b4b7d2786b1f9a3cf296886cb18",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.461669+00:00",
            "finish": "2022-10-18T01:24:34.838201+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/2": [
              {
                "path": "trigger/2",
                "timestamp": "2022-10-18T01:24:33.462771+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_2354_climate_entities",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:27.431831+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1664911918906",
                      "friendly_name": "Set 2354 Climate Entities"
                    },
                    "last_changed": "2022-10-18T01:23:59.676706+00:00",
                    "last_updated": "2022-10-18T01:24:28.924487+00:00",
                    "context": {
                      "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                      "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "2",
                    "idx": "2",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:24:27.424817+00:00",
                      "last_updated": "2022-10-18T01:24:27.424817+00:00",
                      "context": {
                        "id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 70,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:24:27.424817+00:00",
                      "last_updated": "2022-10-18T01:24:33.453866+00:00",
                      "context": {
                        "id": "01GFMB2FHBNS0E3HQM8HNFZA71",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": "temperature",
                    "description": "state of climate.climate_controller"
                  },
                  "use_hp": "on",
                  "controller": "climate.climate_controller"
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-18T01:24:33.467401+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
                    "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-18T01:24:33.467759+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:33.467842+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "action/0/choose/0/sequence/0": [
              {
                "path": "action/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:33.469297+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_heat_pump_hvac_mode",
                  "run_id": "79838234143f2f0b83f2755b7f2ff72d"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_heat_pump_hvac_mode",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/1": [
              {
                "path": "action/0/choose/0/sequence/1",
                "timestamp": "2022-10-18T01:24:33.489550+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_2354_e_hp_temp",
                  "run_id": "634ccf0728b0d4d1fa9bf5002e0672a8"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/2": [
              {
                "path": "action/0/choose/0/sequence/2",
                "timestamp": "2022-10-18T01:24:33.650547+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_2354_w_hp_temp",
                  "run_id": "32706275eb577bc350391f9e5b89fcc2"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_2354_w_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/0/sequence/3": [
              {
                "path": "action/0/choose/0/sequence/3",
                "timestamp": "2022-10-18T01:24:33.791548+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "variables": {
              "use_hp": "{{ states('binary_sensor.use_heat_pump') }}",
              "controller": "climate.climate_controller"
            },
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": "{{ use_hp == 'on' }}",
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "script.set_2354_e_hp_temp"
                      },
                      {
                        "service": "script.set_2354_w_hp_temp"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": "climate.2354_ecobee_thermostat"
                        }
                      }
                    ]
                  },
                  {
                    "conditions": "{{ use_hp == 'off' }}",
                    "sequence": [
                      {
                        "service": "script.set_2354_boiler_temp"
                      },
                      {
                        "service": "climate.turn_off",
                        "data": {
                          "entity_id": [
                            "climate.2354_kitchen_heat_pump",
                            "climate.2354_dining_room_heat_pump"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_temperature",
                    "data": {
                      "temperature": "{{ state_attr(controller, 'temperature') }}"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ],
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354"
          },
          "blueprint_inputs": {
            "id": "1664911918906",
            "alias": "Set 2354 Climate Entities",
            "description": "This automation will set all the thermostat entities in 2354",
            "use_blueprint": {
              "path": "climate/set_climate_entities.yaml",
              "input": {
                "climate_controller": "climate.climate_controller",
                "e_heat_pump": "climate.2354_kitchen_heat_pump",
                "w_heat_pump": "climate.2354_dining_room_heat_pump",
                "boiler_therm": "climate.2354_ecobee_thermostat",
                "boiler_set_temp_script": "script.set_2354_boiler_temp",
                "e_hp_set_temp_script": "script.set_2354_e_hp_temp",
                "w_hp_set_temp_script": "script.set_2354_w_hp_temp"
              }
            }
          },
          "context": {
            "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
            "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/0/sequence/3",
          "run_id": "434f2b4b7d2786b1f9a3cf296886cb18",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.461669+00:00",
            "finish": "2022-10-18T01:24:34.838201+00:00"
          },
          "domain": "automation",
          "item_id": "1664911918906",
          "trigger": "state of climate.climate_controller"
        }
      }
    ],
    "script.set_heat_pump_hvac_mode": [
      {
        "extended_dict": {
          "last_step": "sequence/0/choose/2/sequence/0",
          "run_id": "ec9c327b05cbb8c9d3b9aa1f0efbd9fe",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:32.386696+00:00",
            "finish": "2022-10-18T01:16:32.414149+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode",
          "error": "coroutine raised StopIteration",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:16:32.392060+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_heat_pump_hvac_mode",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:30.141131+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "set_heat_pump_hvac_mode"
                    },
                    "last_changed": "2022-10-18T01:16:30.147633+00:00",
                    "last_updated": "2022-10-18T01:16:30.147633+00:00",
                    "context": {
                      "id": "01GFMAKQHNTBJP0HGW8MCP5WS4",
                      "parent_id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "indoor_temp": 71,
                  "outside_temp": 40,
                  "cur_hvac_input": "input_text.2354_current_hvac_setting",
                  "cur_hvac": "heat",
                  "set_temp": 72,
                  "controller_hvac": "off",
                  "context": {
                    "id": "01GFMAKSQNNBAJ73WH0WJ3PVR9",
                    "parent_id": "01GFMAKSQBRJPH9MRY0AH4VGAS",
                    "user_id": null
                  }
                },
                "error": "coroutine raised StopIteration",
                "result": {
                  "choice": 2
                }
              }
            ],
            "sequence/0/choose/0": [
              {
                "path": "sequence/0/choose/0",
                "timestamp": "2022-10-18T01:16:32.392252+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:16:32.392326+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1": [
              {
                "path": "sequence/0/choose/1",
                "timestamp": "2022-10-18T01:16:32.392584+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/1/conditions/0": [
              {
                "path": "sequence/0/choose/1/conditions/0",
                "timestamp": "2022-10-18T01:16:32.392645+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1/conditions/1": [
              {
                "path": "sequence/0/choose/1/conditions/1",
                "timestamp": "2022-10-18T01:16:32.392820+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2": [
              {
                "path": "sequence/0/choose/2",
                "timestamp": "2022-10-18T01:16:32.393029+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/0/choose/2/conditions/0": [
              {
                "path": "sequence/0/choose/2/conditions/0",
                "timestamp": "2022-10-18T01:16:32.393088+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2/conditions/1": [
              {
                "path": "sequence/0/choose/2/conditions/1",
                "timestamp": "2022-10-18T01:16:32.393253+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2/sequence/0": [
              {
                "path": "sequence/0/choose/2/sequence/0",
                "timestamp": "2022-10-18T01:16:32.394475+00:00",
                "error": "coroutine raised StopIteration",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_hvac_mode",
                    "service_data": {
                      "hvac_mode": "off",
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "description": "Use this script to determine when heat pumps should switch to heating and cooling modes",
            "variables": {
              "heat_pumps": [
                "climate.2354_dining_room_heat_pump",
                "climate.2354_kitchen_heat_pump"
              ],
              "indoor_temp": "{{ states('sensor.2354_average_indoor_temperature') | int }}",
              "outside_temp": "{{ states('sensor.outside_temp') | int }}",
              "cur_hvac_input": "input_text.2354_current_hvac_setting",
              "cur_hvac": "{{ states('input_text.2354_current_hvac_setting') }}",
              "set_temp": "{{ state_attr('climate.climate_controller', 'temperature') | int }}",
              "controller_hvac": "{{ states(\"climate.climate_controller\") }}"
            },
            "mode": "queued",
            "sequence": {
              "choose": [
                {
                  "conditions": [
                    "{{ cur_hvac != \"heat\" }}",
                    "{{ set_temp >= indoor_temp }}",
                    "{{ set_temp >= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "heat"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "heat",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"cool\"}}",
                    "{{ set_temp <= indoor_temp }}",
                    "{{ set_temp <= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "cool"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "cool",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"off\" }}",
                    "{{ controller_hvac == \"off\"}}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "off"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps }}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "off",
                        "entity_id": "{{cur_hvac_input}}"
                      }
                    }
                  ]
                }
              ]
            }
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMAKSQNNBAJ73WH0WJ3PVR9",
            "parent_id": "01GFMAKSQBRJPH9MRY0AH4VGAS",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/0/choose/2/sequence/0",
          "run_id": "ec9c327b05cbb8c9d3b9aa1f0efbd9fe",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:32.386696+00:00",
            "finish": "2022-10-18T01:16:32.414149+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode",
          "error": "coroutine raised StopIteration"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/0/choose/2/conditions/1",
          "run_id": "49df7578e21a0c44ee7fd810028c4224",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:16:33.372332+00:00",
            "finish": "2022-10-18T01:16:33.381340+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:16:33.377785+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_heat_pump_hvac_mode",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:32.388049+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "set_heat_pump_hvac_mode"
                    },
                    "last_changed": "2022-10-18T01:16:32.411487+00:00",
                    "last_updated": "2022-10-18T01:16:32.411487+00:00",
                    "context": {
                      "id": "01GFMAKSQNNBAJ73WH0WJ3PVR9",
                      "parent_id": "01GFMAKSQBRJPH9MRY0AH4VGAS",
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "indoor_temp": 71,
                  "outside_temp": 40,
                  "cur_hvac_input": "input_text.2354_current_hvac_setting",
                  "cur_hvac": "heat",
                  "set_temp": 72,
                  "controller_hvac": "auto",
                  "context": {
                    "id": "01GFMAKTPMRXPGTKYG26HVDWTQ",
                    "parent_id": "01GFMAKTPC8AB2TC2P986SY846",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/0/choose/0": [
              {
                "path": "sequence/0/choose/0",
                "timestamp": "2022-10-18T01:16:33.377945+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:16:33.378018+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1": [
              {
                "path": "sequence/0/choose/1",
                "timestamp": "2022-10-18T01:16:33.378293+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/1/conditions/0": [
              {
                "path": "sequence/0/choose/1/conditions/0",
                "timestamp": "2022-10-18T01:16:33.378376+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1/conditions/1": [
              {
                "path": "sequence/0/choose/1/conditions/1",
                "timestamp": "2022-10-18T01:16:33.378615+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2": [
              {
                "path": "sequence/0/choose/2",
                "timestamp": "2022-10-18T01:16:33.378821+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/2/conditions/0": [
              {
                "path": "sequence/0/choose/2/conditions/0",
                "timestamp": "2022-10-18T01:16:33.378881+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2/conditions/1": [
              {
                "path": "sequence/0/choose/2/conditions/1",
                "timestamp": "2022-10-18T01:16:33.379044+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ]
          },
          "config": {
            "description": "Use this script to determine when heat pumps should switch to heating and cooling modes",
            "variables": {
              "heat_pumps": [
                "climate.2354_dining_room_heat_pump",
                "climate.2354_kitchen_heat_pump"
              ],
              "indoor_temp": "{{ states('sensor.2354_average_indoor_temperature') | int }}",
              "outside_temp": "{{ states('sensor.outside_temp') | int }}",
              "cur_hvac_input": "input_text.2354_current_hvac_setting",
              "cur_hvac": "{{ states('input_text.2354_current_hvac_setting') }}",
              "set_temp": "{{ state_attr('climate.climate_controller', 'temperature') | int }}",
              "controller_hvac": "{{ states(\"climate.climate_controller\") }}"
            },
            "mode": "queued",
            "sequence": {
              "choose": [
                {
                  "conditions": [
                    "{{ cur_hvac != \"heat\" }}",
                    "{{ set_temp >= indoor_temp }}",
                    "{{ set_temp >= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "heat"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "heat",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"cool\"}}",
                    "{{ set_temp <= indoor_temp }}",
                    "{{ set_temp <= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "cool"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "cool",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"off\" }}",
                    "{{ controller_hvac == \"off\"}}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "off"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps }}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "off",
                        "entity_id": "{{cur_hvac_input}}"
                      }
                    }
                  ]
                }
              ]
            }
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMAKTPMRXPGTKYG26HVDWTQ",
            "parent_id": "01GFMAKTPC8AB2TC2P986SY846",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/0/choose/2/conditions/1",
          "run_id": "49df7578e21a0c44ee7fd810028c4224",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:16:33.372332+00:00",
            "finish": "2022-10-18T01:16:33.381340+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/0/choose/2/sequence/1",
          "run_id": "49993a2c9262134587701bcc19f33dd8",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:25.869096+00:00",
            "finish": "2022-10-18T01:24:26.011904+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:25.876044+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_heat_pump_hvac_mode",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:33.373757+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "set_heat_pump_hvac_mode"
                    },
                    "last_changed": "2022-10-18T01:23:59.744092+00:00",
                    "last_updated": "2022-10-18T01:23:59.744092+00:00",
                    "context": {
                      "id": "01GFMB1EM0SJ7SJ3Q2Q51QVCBV",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "indoor_temp": 71,
                  "outside_temp": 40,
                  "cur_hvac_input": "input_text.2354_current_hvac_setting",
                  "cur_hvac": "heat",
                  "set_temp": 72,
                  "controller_hvac": "off",
                  "context": {
                    "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                    "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 2
                }
              }
            ],
            "sequence/0/choose/0": [
              {
                "path": "sequence/0/choose/0",
                "timestamp": "2022-10-18T01:24:25.877115+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:25.877207+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1": [
              {
                "path": "sequence/0/choose/1",
                "timestamp": "2022-10-18T01:24:25.877612+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/1/conditions/0": [
              {
                "path": "sequence/0/choose/1/conditions/0",
                "timestamp": "2022-10-18T01:24:25.877684+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1/conditions/1": [
              {
                "path": "sequence/0/choose/1/conditions/1",
                "timestamp": "2022-10-18T01:24:25.878006+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2": [
              {
                "path": "sequence/0/choose/2",
                "timestamp": "2022-10-18T01:24:25.878372+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/0/choose/2/conditions/0": [
              {
                "path": "sequence/0/choose/2/conditions/0",
                "timestamp": "2022-10-18T01:24:25.878480+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2/conditions/1": [
              {
                "path": "sequence/0/choose/2/conditions/1",
                "timestamp": "2022-10-18T01:24:25.878764+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2/sequence/0": [
              {
                "path": "sequence/0/choose/2/sequence/0",
                "timestamp": "2022-10-18T01:24:25.880106+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_hvac_mode",
                    "service_data": {
                      "hvac_mode": "off",
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/0/choose/2/sequence/1": [
              {
                "path": "sequence/0/choose/2/sequence/1",
                "timestamp": "2022-10-18T01:24:26.001794+00:00",
                "result": {
                  "params": {
                    "domain": "input_text",
                    "service": "set_value",
                    "service_data": {
                      "value": "off",
                      "entity_id": "input_text.2354_current_hvac_setting"
                    },
                    "target": {}
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "description": "Use this script to determine when heat pumps should switch to heating and cooling modes",
            "variables": {
              "heat_pumps": [
                "climate.2354_dining_room_heat_pump",
                "climate.2354_kitchen_heat_pump"
              ],
              "indoor_temp": "{{ states('sensor.2354_average_indoor_temperature') | int }}",
              "outside_temp": "{{ states('sensor.outside_temp') | int }}",
              "cur_hvac_input": "input_text.2354_current_hvac_setting",
              "cur_hvac": "{{ states('input_text.2354_current_hvac_setting') }}",
              "set_temp": "{{ state_attr('climate.climate_controller', 'temperature') | int }}",
              "controller_hvac": "{{ states(\"climate.climate_controller\") }}"
            },
            "mode": "queued",
            "sequence": {
              "choose": [
                {
                  "conditions": [
                    "{{ cur_hvac != \"heat\" }}",
                    "{{ set_temp >= indoor_temp }}",
                    "{{ set_temp >= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "heat"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "heat",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"cool\"}}",
                    "{{ set_temp <= indoor_temp }}",
                    "{{ set_temp <= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "cool"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "cool",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"off\" }}",
                    "{{ controller_hvac == \"off\"}}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "off"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps }}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "off",
                        "entity_id": "{{cur_hvac_input}}"
                      }
                    }
                  ]
                }
              ]
            }
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMB283J13EFHHW9RVXRP4AQ",
            "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/0/choose/2/sequence/1",
          "run_id": "49993a2c9262134587701bcc19f33dd8",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:25.869096+00:00",
            "finish": "2022-10-18T01:24:26.011904+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/0/choose/0/sequence/1",
          "run_id": "7f4870d430f6059ae2098ce9f8fd9aa2",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.438321+00:00",
            "finish": "2022-10-18T01:24:27.546237+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:27.444574+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_heat_pump_hvac_mode",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:25.871306+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "set_heat_pump_hvac_mode"
                    },
                    "last_changed": "2022-10-18T01:24:26.009352+00:00",
                    "last_updated": "2022-10-18T01:24:26.009352+00:00",
                    "context": {
                      "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                      "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "indoor_temp": 71,
                  "outside_temp": 40,
                  "cur_hvac_input": "input_text.2354_current_hvac_setting",
                  "cur_hvac": "off",
                  "set_temp": 72,
                  "controller_hvac": "auto",
                  "context": {
                    "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                    "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/0/choose/0": [
              {
                "path": "sequence/0/choose/0",
                "timestamp": "2022-10-18T01:24:27.444762+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:27.444855+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/0/conditions/1": [
              {
                "path": "sequence/0/choose/0/conditions/1",
                "timestamp": "2022-10-18T01:24:27.445141+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/0/conditions/2": [
              {
                "path": "sequence/0/choose/0/conditions/2",
                "timestamp": "2022-10-18T01:24:27.445471+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/0/sequence/0": [
              {
                "path": "sequence/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:27.446829+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_hvac_mode",
                    "service_data": {
                      "hvac_mode": "heat",
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/0/choose/0/sequence/1": [
              {
                "path": "sequence/0/choose/0/sequence/1",
                "timestamp": "2022-10-18T01:24:27.536193+00:00",
                "result": {
                  "params": {
                    "domain": "input_text",
                    "service": "set_value",
                    "service_data": {
                      "value": "heat",
                      "entity_id": "input_text.2354_current_hvac_setting"
                    },
                    "target": {}
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "description": "Use this script to determine when heat pumps should switch to heating and cooling modes",
            "variables": {
              "heat_pumps": [
                "climate.2354_dining_room_heat_pump",
                "climate.2354_kitchen_heat_pump"
              ],
              "indoor_temp": "{{ states('sensor.2354_average_indoor_temperature') | int }}",
              "outside_temp": "{{ states('sensor.outside_temp') | int }}",
              "cur_hvac_input": "input_text.2354_current_hvac_setting",
              "cur_hvac": "{{ states('input_text.2354_current_hvac_setting') }}",
              "set_temp": "{{ state_attr('climate.climate_controller', 'temperature') | int }}",
              "controller_hvac": "{{ states(\"climate.climate_controller\") }}"
            },
            "mode": "queued",
            "sequence": {
              "choose": [
                {
                  "conditions": [
                    "{{ cur_hvac != \"heat\" }}",
                    "{{ set_temp >= indoor_temp }}",
                    "{{ set_temp >= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "heat"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "heat",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"cool\"}}",
                    "{{ set_temp <= indoor_temp }}",
                    "{{ set_temp <= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "cool"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "cool",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"off\" }}",
                    "{{ controller_hvac == \"off\"}}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "off"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps }}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "off",
                        "entity_id": "{{cur_hvac_input}}"
                      }
                    }
                  ]
                }
              ]
            }
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMB29N61H9X6YM1CCREHN6Z",
            "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/0/choose/0/sequence/1",
          "run_id": "7f4870d430f6059ae2098ce9f8fd9aa2",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.438321+00:00",
            "finish": "2022-10-18T01:24:27.546237+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/0/choose/2/conditions/1",
          "run_id": "79838234143f2f0b83f2755b7f2ff72d",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.479620+00:00",
            "finish": "2022-10-18T01:24:33.489075+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:33.484840+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_heat_pump_hvac_mode",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:27.440178+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "set_heat_pump_hvac_mode"
                    },
                    "last_changed": "2022-10-18T01:24:27.544472+00:00",
                    "last_updated": "2022-10-18T01:24:27.544472+00:00",
                    "context": {
                      "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                      "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "indoor_temp": 71,
                  "outside_temp": 40,
                  "cur_hvac_input": "input_text.2354_current_hvac_setting",
                  "cur_hvac": "heat",
                  "set_temp": 70,
                  "controller_hvac": "auto",
                  "context": {
                    "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
                    "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/0/choose/0": [
              {
                "path": "sequence/0/choose/0",
                "timestamp": "2022-10-18T01:24:33.485011+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:33.485092+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1": [
              {
                "path": "sequence/0/choose/1",
                "timestamp": "2022-10-18T01:24:33.485417+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/1/conditions/0": [
              {
                "path": "sequence/0/choose/1/conditions/0",
                "timestamp": "2022-10-18T01:24:33.485486+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1/conditions/1": [
              {
                "path": "sequence/0/choose/1/conditions/1",
                "timestamp": "2022-10-18T01:24:33.485680+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/1/conditions/2": [
              {
                "path": "sequence/0/choose/1/conditions/2",
                "timestamp": "2022-10-18T01:24:33.485863+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2": [
              {
                "path": "sequence/0/choose/2",
                "timestamp": "2022-10-18T01:24:33.486186+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/0/choose/2/conditions/0": [
              {
                "path": "sequence/0/choose/2/conditions/0",
                "timestamp": "2022-10-18T01:24:33.486312+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/0/choose/2/conditions/1": [
              {
                "path": "sequence/0/choose/2/conditions/1",
                "timestamp": "2022-10-18T01:24:33.486508+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ]
          },
          "config": {
            "description": "Use this script to determine when heat pumps should switch to heating and cooling modes",
            "variables": {
              "heat_pumps": [
                "climate.2354_dining_room_heat_pump",
                "climate.2354_kitchen_heat_pump"
              ],
              "indoor_temp": "{{ states('sensor.2354_average_indoor_temperature') | int }}",
              "outside_temp": "{{ states('sensor.outside_temp') | int }}",
              "cur_hvac_input": "input_text.2354_current_hvac_setting",
              "cur_hvac": "{{ states('input_text.2354_current_hvac_setting') }}",
              "set_temp": "{{ state_attr('climate.climate_controller', 'temperature') | int }}",
              "controller_hvac": "{{ states(\"climate.climate_controller\") }}"
            },
            "mode": "queued",
            "sequence": {
              "choose": [
                {
                  "conditions": [
                    "{{ cur_hvac != \"heat\" }}",
                    "{{ set_temp >= indoor_temp }}",
                    "{{ set_temp >= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "heat"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "heat",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"cool\"}}",
                    "{{ set_temp <= indoor_temp }}",
                    "{{ set_temp <= outside_temp }}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "cool"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps}}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "cool",
                        "entity_id": "{{ cur_hvac_input }}"
                      }
                    }
                  ]
                },
                {
                  "conditions": [
                    "{{ cur_hvac != \"off\" }}",
                    "{{ controller_hvac == \"off\"}}"
                  ],
                  "sequence": [
                    {
                      "service": "climate.set_hvac_mode",
                      "data": {
                        "hvac_mode": "off"
                      },
                      "target": {
                        "entity_id": "{{ heat_pumps }}"
                      }
                    },
                    {
                      "service": "input_text.set_value",
                      "data": {
                        "value": "off",
                        "entity_id": "{{cur_hvac_input}}"
                      }
                    }
                  ]
                }
              ]
            }
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
            "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/0/choose/2/conditions/1",
          "run_id": "79838234143f2f0b83f2755b7f2ff72d",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.479620+00:00",
            "finish": "2022-10-18T01:24:33.489075+00:00"
          },
          "domain": "script",
          "item_id": "set_heat_pump_hvac_mode"
        }
      }
    ],
    "script.set_2354_e_hp_temp": [
      {
        "extended_dict": {
          "last_step": "sequence/1",
          "run_id": "2947794135b302de914c7e1de9ef14a3",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:30.151459+00:00",
            "finish": "2022-10-18T01:16:30.171668+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:16:30.154304+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:15:00.039440+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:15:00.062100+00:00",
                    "last_updated": "2022-10-18T01:15:00.062100+00:00",
                    "context": {
                      "id": "01GFMAGZH2VS1J87MSW4G64FKM",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMAKQHNTBJP0HGW8MCP5WS4",
                    "parent_id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:16:30.154514+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_e_hp_temp",
                  "run_id": "36eb49e99ea75d832d3c475ca4c8838b"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                },
                "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_e_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_kitchen_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_kitchen_heat_pump",
                "temp_helper": "input_number.2354_e_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_e_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMAKQHNTBJP0HGW8MCP5WS4",
            "parent_id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1",
          "run_id": "2947794135b302de914c7e1de9ef14a3",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:30.151459+00:00",
            "finish": "2022-10-18T01:16:30.171668+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/1",
          "run_id": "a7c13cec7f48759ddc26728983a23116",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:33.382865+00:00",
            "finish": "2022-10-18T01:16:33.400017+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:16:33.385595+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:30.151638+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:16:30.169256+00:00",
                    "last_updated": "2022-10-18T01:16:30.169256+00:00",
                    "context": {
                      "id": "01GFMAKQHNTBJP0HGW8MCP5WS4",
                      "parent_id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMAKTPMRXPGTKYG26HVDWTQ",
                    "parent_id": "01GFMAKTPC8AB2TC2P986SY846",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:16:33.385840+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_e_hp_temp",
                  "run_id": "d4d42577f5fcf9f49f982fb4a2674539"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                },
                "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_e_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_kitchen_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_kitchen_heat_pump",
                "temp_helper": "input_number.2354_e_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_e_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMAKTPMRXPGTKYG26HVDWTQ",
            "parent_id": "01GFMAKTPC8AB2TC2P986SY846",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1",
          "run_id": "a7c13cec7f48759ddc26728983a23116",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:33.382865+00:00",
            "finish": "2022-10-18T01:16:33.400017+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "99a9aed350d2654f220a5170dfcdb926",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:26.013130+00:00",
            "finish": "2022-10-18T01:24:26.035394+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:26.016220+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:33.383028+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:23:59.745339+00:00",
                    "last_updated": "2022-10-18T01:23:59.745339+00:00",
                    "context": {
                      "id": "01GFMB1EM1008EDH4D7PBW6M7B",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                    "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:26.016524+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_e_hp_temp",
                  "run_id": "794dc68b8ce84003ed5b1294171b4740"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-18T01:24:26.028833+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 67.0,
                      "entity_id": [
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_e_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_kitchen_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_kitchen_heat_pump",
                "temp_helper": "input_number.2354_e_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_e_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB283J13EFHHW9RVXRP4AQ",
            "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "99a9aed350d2654f220a5170dfcdb926",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:26.013130+00:00",
            "finish": "2022-10-18T01:24:26.035394+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "8cc7681d8c338552059cfd5d29f8fe5d",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.547772+00:00",
            "finish": "2022-10-18T01:24:27.715471+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:27.550047+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:26.013357+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:24:26.032639+00:00",
                    "last_updated": "2022-10-18T01:24:26.032639+00:00",
                    "context": {
                      "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                      "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                    "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:27.550253+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_e_hp_temp",
                  "run_id": "cf882ca39f872990aa660ba90c412665"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-18T01:24:27.569175+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 75.0,
                      "entity_id": [
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_e_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_kitchen_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_kitchen_heat_pump",
                "temp_helper": "input_number.2354_e_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_e_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB29N61H9X6YM1CCREHN6Z",
            "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "8cc7681d8c338552059cfd5d29f8fe5d",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.547772+00:00",
            "finish": "2022-10-18T01:24:27.715471+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "634ccf0728b0d4d1fa9bf5002e0672a8",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.490543+00:00",
            "finish": "2022-10-18T01:24:33.648421+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:33.492913+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:27.548014+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:24:27.712501+00:00",
                    "last_updated": "2022-10-18T01:24:27.712501+00:00",
                    "context": {
                      "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                      "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
                    "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:33.493126+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_e_hp_temp",
                  "run_id": "bf813628492c3f05fd4008d0e19ad244"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_e_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-18T01:24:33.510330+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 70.0,
                      "entity_id": [
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_e_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_e_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_kitchen_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_kitchen_heat_pump",
                "temp_helper": "input_number.2354_e_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_e_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
            "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "634ccf0728b0d4d1fa9bf5002e0672a8",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.490543+00:00",
            "finish": "2022-10-18T01:24:33.648421+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_e_hp_temp"
        }
      }
    ],
    "script.calculate_2354_e_hp_temp": [
      {
        "extended_dict": {
          "last_step": "sequence/0",
          "run_id": "36eb49e99ea75d832d3c475ca4c8838b",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:30.155274+00:00",
            "finish": "2022-10-18T01:16:30.163651+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:16:30.157789+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:15:00.043323+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:15:00.056982+00:00",
                    "last_updated": "2022-10-18T01:15:00.056982+00:00",
                    "context": {
                      "id": "01GFMAGZH2VS1J87MSW4G64FKM",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMAKQHNTBJP0HGW8MCP5WS4",
                    "parent_id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
                    "user_id": null
                  }
                },
                "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified"
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_kitchen_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_e_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_kitchen_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_e_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMAKQHNTBJP0HGW8MCP5WS4",
            "parent_id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/0",
          "run_id": "36eb49e99ea75d832d3c475ca4c8838b",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:30.155274+00:00",
            "finish": "2022-10-18T01:16:30.163651+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/0",
          "run_id": "d4d42577f5fcf9f49f982fb4a2674539",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:33.386583+00:00",
            "finish": "2022-10-18T01:16:33.394711+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:16:33.389366+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:30.155462+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:16:30.160929+00:00",
                    "last_updated": "2022-10-18T01:16:30.160929+00:00",
                    "context": {
                      "id": "01GFMAKQHNTBJP0HGW8MCP5WS4",
                      "parent_id": "01GFMAKQH8RA7D7D7QBDQJJJR0",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMAKTPMRXPGTKYG26HVDWTQ",
                    "parent_id": "01GFMAKTPC8AB2TC2P986SY846",
                    "user_id": null
                  }
                },
                "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified"
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_kitchen_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_e_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_kitchen_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_e_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMAKTPMRXPGTKYG26HVDWTQ",
            "parent_id": "01GFMAKTPC8AB2TC2P986SY846",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/0",
          "run_id": "d4d42577f5fcf9f49f982fb4a2674539",
          "state": "stopped",
          "script_execution": "error",
          "timestamp": {
            "start": "2022-10-18T01:16:33.386583+00:00",
            "finish": "2022-10-18T01:16:33.394711+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp",
          "error": "ValueError: Template error: int got invalid input 'None' when rendering template '{{ state_attr(heat_pump, 'current_temperature') | int }}' but no default was specified"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/1/choose/1/conditions/0",
          "run_id": "794dc68b8ce84003ed5b1294171b4740",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:26.017380+00:00",
            "finish": "2022-10-18T01:24:26.028390+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:26.020713+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:16:33.386758+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:23:59.744900+00:00",
                    "last_updated": "2022-10-18T01:23:59.744900+00:00",
                    "context": {
                      "id": "01GFMB1EM0WHB0K81702AR12EG",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                    "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:26.022617+00:00",
                "changed_variables": {
                  "heat_pump": "climate.2354_kitchen_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_e_hp_set_temp",
                  "hp_local_temp": 76,
                  "controller_set_temp": 72,
                  "sensor_temp": 71,
                  "set_temp_heat_modifier": 3.0
                }
              }
            ],
            "sequence/1/choose/0": [
              {
                "path": "sequence/1/choose/0",
                "timestamp": "2022-10-18T01:24:26.023716+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/1/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:26.023810+00:00",
                "result": {
                  "result": false,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ],
            "sequence/1/choose/1": [
              {
                "path": "sequence/1/choose/1",
                "timestamp": "2022-10-18T01:24:26.024325+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/1/choose/1/conditions/0": [
              {
                "path": "sequence/1/choose/1/conditions/0",
                "timestamp": "2022-10-18T01:24:26.024404+00:00",
                "result": {
                  "result": false,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_kitchen_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_e_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_kitchen_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_e_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB283J13EFHHW9RVXRP4AQ",
            "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1/choose/1/conditions/0",
          "run_id": "794dc68b8ce84003ed5b1294171b4740",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:26.017380+00:00",
            "finish": "2022-10-18T01:24:26.028390+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
          "run_id": "cf882ca39f872990aa660ba90c412665",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.551329+00:00",
            "finish": "2022-10-18T01:24:27.568747+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:27.553887+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:26.017644+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:24:26.025093+00:00",
                    "last_updated": "2022-10-18T01:24:26.025093+00:00",
                    "context": {
                      "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                      "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                    "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:27.555033+00:00",
                "changed_variables": {
                  "heat_pump": "climate.2354_kitchen_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_e_hp_set_temp",
                  "hp_local_temp": 76,
                  "controller_set_temp": 72,
                  "sensor_temp": 71,
                  "set_temp_heat_modifier": 3.0
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0": [
              {
                "path": "sequence/1/choose/0",
                "timestamp": "2022-10-18T01:24:27.555300+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:27.555377+00:00",
                "result": {
                  "result": true,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ],
            "sequence/1/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:27.558108+00:00",
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0",
                "timestamp": "2022-10-18T01:24:27.558906+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:27.558993+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/1": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/1",
                "timestamp": "2022-10-18T01:24:27.559374+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:27.560258+00:00",
                "result": {
                  "params": {
                    "domain": "input_number",
                    "service": "set_value",
                    "service_data": {
                      "value": 75.0,
                      "entity_id": [
                        "input_number.2354_e_hp_set_temp"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "input_number.2354_e_hp_set_temp"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_kitchen_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_e_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_kitchen_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_e_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB29N61H9X6YM1CCREHN6Z",
            "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
          "run_id": "cf882ca39f872990aa660ba90c412665",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.551329+00:00",
            "finish": "2022-10-18T01:24:27.568747+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/1/sequence/0",
          "run_id": "bf813628492c3f05fd4008d0e19ad244",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.493962+00:00",
            "finish": "2022-10-18T01:24:33.509897+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:33.496379+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_e_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:27.551759+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 E HP Temp"
                    },
                    "last_changed": "2022-10-18T01:24:27.567310+00:00",
                    "last_updated": "2022-10-18T01:24:27.567310+00:00",
                    "context": {
                      "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                      "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
                    "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:33.497695+00:00",
                "changed_variables": {
                  "heat_pump": "climate.2354_kitchen_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_e_hp_set_temp",
                  "hp_local_temp": 75,
                  "controller_set_temp": 70,
                  "sensor_temp": 71,
                  "set_temp_heat_modifier": 3.0
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0": [
              {
                "path": "sequence/1/choose/0",
                "timestamp": "2022-10-18T01:24:33.497860+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:33.497935+00:00",
                "result": {
                  "result": true,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ],
            "sequence/1/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:33.499759+00:00",
                "result": {
                  "choice": 1
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0",
                "timestamp": "2022-10-18T01:24:33.499932+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:33.500006+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/1": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/1",
                "timestamp": "2022-10-18T01:24:33.500285+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/1/conditions/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/1/conditions/0",
                "timestamp": "2022-10-18T01:24:33.500355+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/1/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/1/sequence/0",
                "timestamp": "2022-10-18T01:24:33.501579+00:00",
                "result": {
                  "params": {
                    "domain": "input_number",
                    "service": "set_value",
                    "service_data": {
                      "value": 70,
                      "entity_id": [
                        "input_number.2354_e_hp_set_temp"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "input_number.2354_e_hp_set_temp"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_kitchen_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_e_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_e_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_e_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 E HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 E HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_kitchen_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_kitchen_t_h_sensor_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_e_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
            "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/1/sequence/0",
          "run_id": "bf813628492c3f05fd4008d0e19ad244",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.493962+00:00",
            "finish": "2022-10-18T01:24:33.509897+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_e_hp_temp"
        }
      }
    ],
    "script.set_2354_w_hp_temp": [
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "96b9e1869bb54c48e245f816649c08d9",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T00:55:27.579772+00:00",
            "finish": "2022-10-18T00:55:27.610014+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T00:55:27.582808+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-17T23:45:00.045962+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T00:12:27.953536+00:00",
                    "last_updated": "2022-10-18T00:12:27.953536+00:00",
                    "context": {
                      "id": "01GFM6YFDH3VX45Y6C9DVK18X0",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFM9D6H70AM62A82TZNZB5Y8",
                    "parent_id": null,
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T00:55:27.583073+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_w_hp_temp",
                  "run_id": "b86ea70a0797ab37846ed3de4f6032f4"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_w_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-18T00:55:27.604134+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 74.0,
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_w_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_dining_room_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_dining_room_heat_pump",
                "temp_helper": "input_number.2354_w_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_w_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFM9D6H70AM62A82TZNZB5Y8",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "96b9e1869bb54c48e245f816649c08d9",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T00:55:27.579772+00:00",
            "finish": "2022-10-18T00:55:27.610014+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "56940e0d2ef454a831afbe8e5c94041a",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:00:00.045219+00:00",
            "finish": "2022-10-18T01:00:00.064815+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:00:00.047465+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T00:55:27.579910+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T00:55:27.607331+00:00",
                    "last_updated": "2022-10-18T00:55:27.607331+00:00",
                    "context": {
                      "id": "01GFM9D6H70AM62A82TZNZB5Y8",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFM9NGM29C436ZQXPHPXQD7N",
                    "parent_id": null,
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:00:00.047666+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_w_hp_temp",
                  "run_id": "3c5f3dd8de56e60129b0164911656d96"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_w_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-18T01:00:00.060228+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 74.0,
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_w_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_dining_room_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_dining_room_heat_pump",
                "temp_helper": "input_number.2354_w_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_w_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFM9NGM29C436ZQXPHPXQD7N",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "56940e0d2ef454a831afbe8e5c94041a",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:00:00.045219+00:00",
            "finish": "2022-10-18T01:00:00.064815+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "046e743f0dfc2f88305435642f1db953",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:26.037003+00:00",
            "finish": "2022-10-18T01:24:26.061605+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:26.040904+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:00:00.045405+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T01:23:59.745559+00:00",
                    "last_updated": "2022-10-18T01:23:59.745559+00:00",
                    "context": {
                      "id": "01GFMB1EM1ZWQYHB2XDSJ4803R",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                    "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:26.041167+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_w_hp_temp",
                  "run_id": "a81278f3006b6695141a64eea088aa1b"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_w_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-18T01:24:26.054910+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 74.0,
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_w_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_dining_room_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_dining_room_heat_pump",
                "temp_helper": "input_number.2354_w_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_w_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB283J13EFHHW9RVXRP4AQ",
            "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "046e743f0dfc2f88305435642f1db953",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:26.037003+00:00",
            "finish": "2022-10-18T01:24:26.061605+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "8d6b4df16bd853b0741ee9400fbd3e83",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.717638+00:00",
            "finish": "2022-10-18T01:24:27.856116+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:27.720294+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:26.037228+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T01:24:26.058603+00:00",
                    "last_updated": "2022-10-18T01:24:26.058603+00:00",
                    "context": {
                      "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                      "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                    "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:27.720513+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_w_hp_temp",
                  "run_id": "ae12b45dae5e4b614034313f28e5e574"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_w_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-18T01:24:27.737268+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 75.0,
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_w_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_dining_room_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_dining_room_heat_pump",
                "temp_helper": "input_number.2354_w_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_w_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB29N61H9X6YM1CCREHN6Z",
            "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "8d6b4df16bd853b0741ee9400fbd3e83",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.717638+00:00",
            "finish": "2022-10-18T01:24:27.856116+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "32706275eb577bc350391f9e5b89fcc2",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.651531+00:00",
            "finish": "2022-10-18T01:24:33.790993+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:33.654341+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.set_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:27.718059+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Set 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T01:24:27.853872+00:00",
                    "last_updated": "2022-10-18T01:24:27.853872+00:00",
                    "context": {
                      "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                      "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
                    "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:33.654585+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "calculate_2354_w_hp_temp",
                  "run_id": "e5e2070749a9ae5a9630be086623ccab"
                },
                "changed_variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "calculate_2354_w_hp_temp",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-18T01:24:33.669933+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 70.0,
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "temp_helper": "input_number.2354_w_hp_set_temp"
                }
              },
              {
                "alias": "Calculate set temp",
                "service": "script.calculate_2354_w_hp_temp"
              },
              {
                "alias": "Set target thermostat to new set temp",
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ states(temp_helper) }}"
                },
                "target": {
                  "entity_id": "climate.2354_dining_room_heat_pump"
                }
              }
            ],
            "alias": "Set 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Set 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/set_temp.yaml",
              "input": {
                "target_thermostat": "climate.2354_dining_room_heat_pump",
                "temp_helper": "input_number.2354_w_hp_set_temp",
                "calculate_temp_script": "script.calculate_2354_w_hp_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
            "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "32706275eb577bc350391f9e5b89fcc2",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.651531+00:00",
            "finish": "2022-10-18T01:24:33.790993+00:00"
          },
          "domain": "script",
          "item_id": "set_2354_w_hp_temp"
        }
      }
    ],
    "script.calculate_2354_w_hp_temp": [
      {
        "extended_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
          "run_id": "b86ea70a0797ab37846ed3de4f6032f4",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T00:55:27.583984+00:00",
            "finish": "2022-10-18T00:55:27.603744+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T00:55:27.587314+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-17T23:45:00.049766+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T00:12:27.953145+00:00",
                    "last_updated": "2022-10-18T00:12:27.953145+00:00",
                    "context": {
                      "id": "01GFM6YFDHS5H0XZE5XAZ6AS4N",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFM9D6H70AM62A82TZNZB5Y8",
                    "parent_id": null,
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T00:55:27.589001+00:00",
                "changed_variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": 74,
                  "controller_set_temp": 71,
                  "sensor_temp": 70,
                  "set_temp_heat_modifier": 3.0
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0": [
              {
                "path": "sequence/1/choose/0",
                "timestamp": "2022-10-18T00:55:27.589961+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/conditions/0",
                "timestamp": "2022-10-18T00:55:27.590043+00:00",
                "result": {
                  "result": true,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ],
            "sequence/1/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0",
                "timestamp": "2022-10-18T00:55:27.591213+00:00",
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0",
                "timestamp": "2022-10-18T00:55:27.591928+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T00:55:27.592005+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/1": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/1",
                "timestamp": "2022-10-18T00:55:27.592395+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T00:55:27.593360+00:00",
                "result": {
                  "params": {
                    "domain": "input_number",
                    "service": "set_value",
                    "service_data": {
                      "value": 74.0,
                      "entity_id": [
                        "input_number.2354_w_hp_set_temp"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "input_number.2354_w_hp_set_temp"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_dining_room_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_w_avg_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_w_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFM9D6H70AM62A82TZNZB5Y8",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
          "run_id": "b86ea70a0797ab37846ed3de4f6032f4",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T00:55:27.583984+00:00",
            "finish": "2022-10-18T00:55:27.603744+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
          "run_id": "3c5f3dd8de56e60129b0164911656d96",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:00:00.048374+00:00",
            "finish": "2022-10-18T01:00:00.059898+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:00:00.050579+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T00:55:27.584133+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T00:55:27.598043+00:00",
                    "last_updated": "2022-10-18T00:55:27.598043+00:00",
                    "context": {
                      "id": "01GFM9D6H70AM62A82TZNZB5Y8",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFM9NGM29C436ZQXPHPXQD7N",
                    "parent_id": null,
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:00:00.051678+00:00",
                "changed_variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": 72,
                  "controller_set_temp": 71,
                  "sensor_temp": 70,
                  "set_temp_heat_modifier": 3.0
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0": [
              {
                "path": "sequence/1/choose/0",
                "timestamp": "2022-10-18T01:00:00.051835+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:00:00.051902+00:00",
                "result": {
                  "result": true,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ],
            "sequence/1/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:00:00.052804+00:00",
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0",
                "timestamp": "2022-10-18T01:00:00.052943+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:00:00.053010+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/1": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/1",
                "timestamp": "2022-10-18T01:00:00.053251+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:00:00.055302+00:00",
                "result": {
                  "params": {
                    "domain": "input_number",
                    "service": "set_value",
                    "service_data": {
                      "value": 74.0,
                      "entity_id": [
                        "input_number.2354_w_hp_set_temp"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "input_number.2354_w_hp_set_temp"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_dining_room_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_w_avg_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_w_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFM9NGM29C436ZQXPHPXQD7N",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
          "run_id": "3c5f3dd8de56e60129b0164911656d96",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:00:00.048374+00:00",
            "finish": "2022-10-18T01:00:00.059898+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/1/choose/1/conditions/0",
          "run_id": "a81278f3006b6695141a64eea088aa1b",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:26.042019+00:00",
            "finish": "2022-10-18T01:24:26.054498+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:26.047109+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:00:00.048535+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T01:23:59.745123+00:00",
                    "last_updated": "2022-10-18T01:23:59.745123+00:00",
                    "context": {
                      "id": "01GFMB1EM1YKXEHP5F4RRW8S7M",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                    "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:26.050667+00:00",
                "changed_variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": 72,
                  "controller_set_temp": 72,
                  "sensor_temp": 71,
                  "set_temp_heat_modifier": 3.0
                }
              }
            ],
            "sequence/1/choose/0": [
              {
                "path": "sequence/1/choose/0",
                "timestamp": "2022-10-18T01:24:26.051653+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/1/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:26.051740+00:00",
                "result": {
                  "result": false,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ],
            "sequence/1/choose/1": [
              {
                "path": "sequence/1/choose/1",
                "timestamp": "2022-10-18T01:24:26.052254+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/1/choose/1/conditions/0": [
              {
                "path": "sequence/1/choose/1/conditions/0",
                "timestamp": "2022-10-18T01:24:26.052339+00:00",
                "result": {
                  "result": false,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_dining_room_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_w_avg_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_w_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB283J13EFHHW9RVXRP4AQ",
            "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1/choose/1/conditions/0",
          "run_id": "a81278f3006b6695141a64eea088aa1b",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:26.042019+00:00",
            "finish": "2022-10-18T01:24:26.054498+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
          "run_id": "ae12b45dae5e4b614034313f28e5e574",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.721323+00:00",
            "finish": "2022-10-18T01:24:27.736822+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:27.723977+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:26.042316+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T01:24:26.052877+00:00",
                    "last_updated": "2022-10-18T01:24:26.052877+00:00",
                    "context": {
                      "id": "01GFMB283J13EFHHW9RVXRP4AQ",
                      "parent_id": "01GFMB282VS0HYXDQKRF6GS9WN",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                    "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:27.725128+00:00",
                "changed_variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": 72,
                  "controller_set_temp": 72,
                  "sensor_temp": 71,
                  "set_temp_heat_modifier": 3.0
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0": [
              {
                "path": "sequence/1/choose/0",
                "timestamp": "2022-10-18T01:24:27.725410+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:27.725500+00:00",
                "result": {
                  "result": true,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ],
            "sequence/1/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:27.726614+00:00",
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0",
                "timestamp": "2022-10-18T01:24:27.727319+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:27.727395+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/1": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/1",
                "timestamp": "2022-10-18T01:24:27.727909+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:27.728777+00:00",
                "result": {
                  "params": {
                    "domain": "input_number",
                    "service": "set_value",
                    "service_data": {
                      "value": 75.0,
                      "entity_id": [
                        "input_number.2354_w_hp_set_temp"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "input_number.2354_w_hp_set_temp"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_dining_room_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_w_avg_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_w_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB29N61H9X6YM1CCREHN6Z",
            "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/0/sequence/0",
          "run_id": "ae12b45dae5e4b614034313f28e5e574",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:27.721323+00:00",
            "finish": "2022-10-18T01:24:27.736822+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/1/sequence/0",
          "run_id": "e5e2070749a9ae5a9630be086623ccab",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.655468+00:00",
            "finish": "2022-10-18T01:24:33.669589+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-18T01:24:33.657826+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.calculate_2354_w_hp_temp",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-18T01:24:27.721591+00:00",
                      "mode": "single",
                      "current": 0,
                      "friendly_name": "Calculate 2354 W HP Temp"
                    },
                    "last_changed": "2022-10-18T01:24:27.735370+00:00",
                    "last_updated": "2022-10-18T01:24:27.735370+00:00",
                    "context": {
                      "id": "01GFMB29N61H9X6YM1CCREHN6Z",
                      "parent_id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                      "user_id": null
                    }
                  },
                  "context": {
                    "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
                    "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
                    "user_id": null
                  }
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-18T01:24:33.659137+00:00",
                "changed_variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": 71,
                  "controller_set_temp": 70,
                  "sensor_temp": 71,
                  "set_temp_heat_modifier": 3.0
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "sequence/1/choose/0": [
              {
                "path": "sequence/1/choose/0",
                "timestamp": "2022-10-18T01:24:33.659305+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:33.659384+00:00",
                "result": {
                  "result": true,
                  "entities": [
                    "input_text.2354_current_hvac_setting"
                  ]
                }
              }
            ],
            "sequence/1/choose/0/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0",
                "timestamp": "2022-10-18T01:24:33.660358+00:00",
                "result": {
                  "choice": 1
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0",
                "timestamp": "2022-10-18T01:24:33.660506+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/0/conditions/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/0/conditions/0",
                "timestamp": "2022-10-18T01:24:33.660620+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/1": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/1",
                "timestamp": "2022-10-18T01:24:33.660913+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/1/conditions/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/1/conditions/0",
                "timestamp": "2022-10-18T01:24:33.660983+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "sequence/1/choose/0/sequence/0/choose/1/sequence/0": [
              {
                "path": "sequence/1/choose/0/sequence/0/choose/1/sequence/0",
                "timestamp": "2022-10-18T01:24:33.661865+00:00",
                "result": {
                  "params": {
                    "domain": "input_number",
                    "service": "set_value",
                    "service_data": {
                      "value": 70,
                      "entity_id": [
                        "input_number.2354_w_hp_set_temp"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "input_number.2354_w_hp_set_temp"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "sequence": [
              {
                "alias": "set up variables",
                "variables": {
                  "heat_pump": "climate.2354_dining_room_heat_pump",
                  "climate_controller": "climate.climate_controller",
                  "temp_sensor": "sensor.2354_w_avg_temp",
                  "current_hvac": "input_text.2354_current_hvac_setting",
                  "hp_set_temp_helper": "input_number.2354_w_hp_set_temp",
                  "hp_local_temp": "{{ state_attr(heat_pump, 'current_temperature') | int }}",
                  "controller_set_temp": "{{ state_attr(climate_controller, 'temperature') | int }}",
                  "sensor_temp": "{{ states(temp_sensor) | int}}",
                  "set_temp_heat_modifier": "{{ states('input_number.set_temp_modifier_heat') }}"
                }
              },
              {
                "alias": "begin script",
                "choose": [
                  {
                    "alias": "If the house hvac is set to heating...",
                    "conditions": "{{ is_state(current_hvac, 'heat') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "If the controller temp is warmer than the sensor temp and temp at the heat pump is warmer or the same as the controller temp  (ususally higher because its high up)\n",
                          "conditions": [
                            "{{ (controller_set_temp > sensor_temp) }}",
                            "{{ (hp_local_temp >= controller_set_temp) }}"
                          ],
                          "sequence": [
                            {
                              "alias": "Add the controller set temp and the set temp modifier and set the temp helper at that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp + set_temp_heat_modifier }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "Else if the controller set temp is colder or the same as the sensor temp\n",
                          "conditions": "{{ controller_set_temp <= sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the temp helper value to the controller set temp",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "alias": "If the house hvac is set to cooling...",
                    "conditions": "{{ is_state(current_hvac, 'cool') }}",
                    "sequence": {
                      "choose": [
                        {
                          "alias": "IF the sensor temp is hotter than the controller set temp...",
                          "conditions": "{{ controller_set_temp < sensor_temp }}",
                          "sequence": [
                            {
                              "alias": "Set the temp helper value to the controller set temp",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp }}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        },
                        {
                          "alias": "ELSE IF the sensor temp is colder or the same as the controller set temp AND the heat pump sensor is warmer than the temp sensors\n",
                          "conditions": [
                            "{{ controller_set_temp >= sensor_temp }}",
                            "{{ hp_local_temp > sensor_temp }}"
                          ],
                          "sequence": [
                            {
                              "alias": "subtract the temp modifier from the controller set temp and set the temp helper to that value\n",
                              "service": "input_number.set_value",
                              "data": {
                                "value": "{{ controller_set_temp - set_temp_heat_modifier}}"
                              },
                              "target": {
                                "entity_id": "input_number.2354_w_hp_set_temp"
                              }
                            }
                          ]
                        }
                      ],
                      "default": [
                        {
                          "alias": "CATCH set the helper text to the controller set temp value",
                          "service": "input_number.set_value",
                          "data": {
                            "value": "{{ controller_set_temp }}"
                          },
                          "target": {
                            "entity_id": "input_number.2354_w_hp_set_temp"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "alias": "Calculate 2354 W HP Temp",
            "mode": "single"
          },
          "blueprint_inputs": {
            "alias": "Calculate 2354 W HP Temp",
            "use_blueprint": {
              "path": "climate/calculate_hp_set_temp.yaml",
              "input": {
                "heat_pump": "climate.2354_dining_room_heat_pump",
                "climate_controller": "climate.climate_controller",
                "temp_sensor": "sensor.2354_w_avg_temp",
                "current_hvac": "input_text.2354_current_hvac_setting",
                "hp_set_temp_helper": "input_number.2354_w_hp_set_temp"
              }
            },
            "mode": "single"
          },
          "context": {
            "id": "01GFMB2FHN8R2ZAVE8SK4A8SE3",
            "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/1/choose/0/sequence/0/choose/1/sequence/0",
          "run_id": "e5e2070749a9ae5a9630be086623ccab",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-18T01:24:33.655468+00:00",
            "finish": "2022-10-18T01:24:33.669589+00:00"
          },
          "domain": "script",
          "item_id": "calculate_2354_w_hp_temp"
        }
      }
    ],
    "automation.set_climate_entities_temp": [
      {
        "extended_dict": {
          "last_step": "action/0/choose/0/sequence/0",
          "run_id": "7f8055b3d26723fc54927ea6b7b02406",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:13.799012+00:00",
            "finish": "2022-10-04T19:16:15.233580+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/1": [
              {
                "path": "trigger/1",
                "timestamp": "2022-10-04T19:16:13.799234+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_entities_temp",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:08.702286+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_entities_temp",
                      "friendly_name": "Set Climate Entities Temp"
                    },
                    "last_changed": "2022-10-04T19:13:36.075238+00:00",
                    "last_updated": "2022-10-04T19:16:10.698059+00:00",
                    "context": {
                      "id": "01GEJ6THWVDEJFN6E13VXPA9QY",
                      "parent_id": "01GEJ6THVWX740T1XB9X40ATHF",
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "1",
                    "idx": "1",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 65.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-04T19:16:08.723341+00:00",
                      "last_updated": "2022-10-04T19:16:08.723341+00:00",
                      "context": {
                        "id": "01GEJ6THVWX740T1XB9X40ATHF",
                        "parent_id": "01GEJ6THVB2GBNJB8VX7RD861G",
                        "user_id": null
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "off",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 65.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-04T19:16:13.789006+00:00",
                      "last_updated": "2022-10-04T19:16:13.789006+00:00",
                      "context": {
                        "id": "01GEJ6TPTTYQRH5XKWJR9VWYHH",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": null,
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-04T19:16:13.805293+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GEJ6TPV69FSR2H5RQXTE2DXN",
                    "parent_id": "01GEJ6TPTTYQRH5XKWJR9VWYHH",
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-04T19:16:13.805543+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-04T19:16:13.805620+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0/entity_id/0": [
              {
                "path": "action/0/choose/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-04T19:16:13.805678+00:00",
                "result": {
                  "result": true,
                  "state": "off",
                  "wanted_state": "off"
                }
              }
            ],
            "action/0/choose/0/sequence/0": [
              {
                "path": "action/0/choose/0/sequence/0",
                "timestamp": "2022-10-04T19:16:13.807030+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "deactivate_all_climate_entities",
                  "run_id": "9b71c47bdb3baf26480c4397a54a3aee"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "deactivate_all_climate_entities",
                    "service_data": {
                      "heat_pumps": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ],
                      "boiler_thermostat": "climate.2354_ecobee_thermostat"
                    },
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_entities_temp",
            "alias": "Set Climate Entities Temp",
            "description": "Every 15 minutes or whenever climate controller changes states -> decide which hvac mode and temperature all climate entities should be set to",
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "climate.climate_controller"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": {
                      "service": "script.deactivate_all_climate_entities",
                      "data": {
                        "heat_pumps": [
                          "climate.2354_dining_room_heat_pump",
                          "climate.2354_kitchen_heat_pump"
                        ],
                        "boiler_thermostat": "climate.2354_ecobee_thermostat"
                      }
                    }
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "on"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') | float }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "climate.set_hvac_mode",
                        "data": {
                          "hvac_mode": "off"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "hvac_mode": "heat",
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_preset_mode",
                    "data": {
                      "preset_mode": "BACKUP HEAT"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6TPV69FSR2H5RQXTE2DXN",
            "parent_id": "01GEJ6TPTTYQRH5XKWJR9VWYHH",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/0/sequence/0",
          "run_id": "7f8055b3d26723fc54927ea6b7b02406",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:13.799012+00:00",
            "finish": "2022-10-04T19:16:15.233580+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "trigger/1",
          "run_id": "c0d210d38cc15a09cf4ce09ab99ffcd0",
          "state": "stopped",
          "script_execution": "failed_single",
          "timestamp": {
            "start": "2022-10-04T19:16:14.663293+00:00",
            "finish": "2022-10-04T19:16:14.667316+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/1": [
              {
                "path": "trigger/1",
                "timestamp": "2022-10-04T19:16:14.663481+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_entities_temp",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:13.799829+00:00",
                      "mode": "single",
                      "current": 1,
                      "id": "set_climate_entities_temp",
                      "friendly_name": "Set Climate Entities Temp"
                    },
                    "last_changed": "2022-10-04T19:13:36.075238+00:00",
                    "last_updated": "2022-10-04T19:16:13.800060+00:00",
                    "context": {
                      "id": "01GEJ6TPV69FSR2H5RQXTE2DXN",
                      "parent_id": "01GEJ6TPTTYQRH5XKWJR9VWYHH",
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "1",
                    "idx": "1",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "off",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 65.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-04T19:16:13.789006+00:00",
                      "last_updated": "2022-10-04T19:16:13.789006+00:00",
                      "context": {
                        "id": "01GEJ6TPTTYQRH5XKWJR9VWYHH",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 65.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-04T19:16:14.656162+00:00",
                      "last_updated": "2022-10-04T19:16:14.656162+00:00",
                      "context": {
                        "id": "01GEJ6TQNX5RSPBX8QZ23D10R6",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": null,
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_entities_temp",
            "alias": "Set Climate Entities Temp",
            "description": "Every 15 minutes or whenever climate controller changes states -> decide which hvac mode and temperature all climate entities should be set to",
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "climate.climate_controller"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": {
                      "service": "script.deactivate_all_climate_entities",
                      "data": {
                        "heat_pumps": [
                          "climate.2354_dining_room_heat_pump",
                          "climate.2354_kitchen_heat_pump"
                        ],
                        "boiler_thermostat": "climate.2354_ecobee_thermostat"
                      }
                    }
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "on"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') | float }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "climate.set_hvac_mode",
                        "data": {
                          "hvac_mode": "off"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "hvac_mode": "heat",
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_preset_mode",
                    "data": {
                      "preset_mode": "BACKUP HEAT"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6TQP79PMM65WG9RYQWW7S",
            "parent_id": "01GEJ6TQNX5RSPBX8QZ23D10R6",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "trigger/1",
          "run_id": "c0d210d38cc15a09cf4ce09ab99ffcd0",
          "state": "stopped",
          "script_execution": "failed_single",
          "timestamp": {
            "start": "2022-10-04T19:16:14.663293+00:00",
            "finish": "2022-10-04T19:16:14.667316+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/choose/0/sequence/0",
          "run_id": "3e90117f5da552bad867cdd2deaf0ed7",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:19.430136+00:00",
            "finish": "2022-10-04T19:16:21.080624+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/1": [
              {
                "path": "trigger/1",
                "timestamp": "2022-10-04T19:16:19.430299+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_entities_temp",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:13.799829+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_entities_temp",
                      "friendly_name": "Set Climate Entities Temp"
                    },
                    "last_changed": "2022-10-04T19:13:36.075238+00:00",
                    "last_updated": "2022-10-04T19:16:15.229136+00:00",
                    "context": {
                      "id": "01GEJ6TQP79PMM65WG9RYQWW7S",
                      "parent_id": "01GEJ6TQNX5RSPBX8QZ23D10R6",
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "1",
                    "idx": "1",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 65.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-04T19:16:14.656162+00:00",
                      "last_updated": "2022-10-04T19:16:14.656162+00:00",
                      "context": {
                        "id": "01GEJ6TQNX5RSPBX8QZ23D10R6",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "off",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 65.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-04T19:16:19.421642+00:00",
                      "last_updated": "2022-10-04T19:16:19.421642+00:00",
                      "context": {
                        "id": "01GEJ6TWAVPBD87WD6254KNKM3",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": null,
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-04T19:16:19.436491+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GEJ6TWB5E981M6GY24P5XT91",
                    "parent_id": "01GEJ6TWAVPBD87WD6254KNKM3",
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 0
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-04T19:16:19.436675+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-04T19:16:19.436747+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/0/conditions/0/entity_id/0": [
              {
                "path": "action/0/choose/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-04T19:16:19.436802+00:00",
                "result": {
                  "result": true,
                  "state": "off",
                  "wanted_state": "off"
                }
              }
            ],
            "action/0/choose/0/sequence/0": [
              {
                "path": "action/0/choose/0/sequence/0",
                "timestamp": "2022-10-04T19:16:19.438044+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "deactivate_all_climate_entities",
                  "run_id": "938d17a9a67cfd4a48aaf56d1dd781b3"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "deactivate_all_climate_entities",
                    "service_data": {
                      "heat_pumps": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ],
                      "boiler_thermostat": "climate.2354_ecobee_thermostat"
                    },
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_entities_temp",
            "alias": "Set Climate Entities Temp",
            "description": "Every 15 minutes or whenever climate controller changes states -> decide which hvac mode and temperature all climate entities should be set to",
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "climate.climate_controller"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": {
                      "service": "script.deactivate_all_climate_entities",
                      "data": {
                        "heat_pumps": [
                          "climate.2354_dining_room_heat_pump",
                          "climate.2354_kitchen_heat_pump"
                        ],
                        "boiler_thermostat": "climate.2354_ecobee_thermostat"
                      }
                    }
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "on"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') | float }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "climate.set_hvac_mode",
                        "data": {
                          "hvac_mode": "off"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "hvac_mode": "heat",
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_preset_mode",
                    "data": {
                      "preset_mode": "BACKUP HEAT"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6TWB5E981M6GY24P5XT91",
            "parent_id": "01GEJ6TWAVPBD87WD6254KNKM3",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/0/sequence/0",
          "run_id": "3e90117f5da552bad867cdd2deaf0ed7",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:19.430136+00:00",
            "finish": "2022-10-04T19:16:21.080624+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/choose/1/sequence/2",
          "run_id": "6467f5acc7decf5aedee215ab44a1602",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:25.213991+00:00",
            "finish": "2022-10-04T19:16:26.183422+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/1": [
              {
                "path": "trigger/1",
                "timestamp": "2022-10-04T19:16:25.214122+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_entities_temp",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:19.430719+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_entities_temp",
                      "friendly_name": "Set Climate Entities Temp"
                    },
                    "last_changed": "2022-10-04T19:13:36.075238+00:00",
                    "last_updated": "2022-10-04T19:16:21.076990+00:00",
                    "context": {
                      "id": "01GEJ6TWB5E981M6GY24P5XT91",
                      "parent_id": "01GEJ6TWAVPBD87WD6254KNKM3",
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "1",
                    "idx": "1",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "off",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 65.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-04T19:16:19.421642+00:00",
                      "last_updated": "2022-10-04T19:16:19.421642+00:00",
                      "context": {
                        "id": "01GEJ6TWAVPBD87WD6254KNKM3",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 65.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-04T19:16:25.207228+00:00",
                      "last_updated": "2022-10-04T19:16:25.207228+00:00",
                      "context": {
                        "id": "01GEJ6V1ZMN0M7CHKH5R4DG7TK",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": null,
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-04T19:16:25.219226+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GEJ6V1ZXVH6QYE0P4TPXFM62",
                    "parent_id": "01GEJ6V1ZMN0M7CHKH5R4DG7TK",
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 1
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-04T19:16:25.219413+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-04T19:16:25.219486+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "action/0/choose/0/conditions/0/entity_id/0": [
              {
                "path": "action/0/choose/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-04T19:16:25.219541+00:00",
                "result": {
                  "result": false,
                  "state": "auto",
                  "wanted_state": "off"
                }
              }
            ],
            "action/0/choose/1": [
              {
                "path": "action/0/choose/1",
                "timestamp": "2022-10-04T19:16:25.219705+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/1/conditions/0": [
              {
                "path": "action/0/choose/1/conditions/0",
                "timestamp": "2022-10-04T19:16:25.219764+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/1/conditions/0/entity_id/0": [
              {
                "path": "action/0/choose/1/conditions/0/entity_id/0",
                "timestamp": "2022-10-04T19:16:25.219878+00:00",
                "result": {
                  "result": true,
                  "state": "on",
                  "wanted_state": "on"
                }
              }
            ],
            "action/0/choose/1/sequence/0": [
              {
                "path": "action/0/choose/1/sequence/0",
                "timestamp": "2022-10-04T19:16:25.220685+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_heat_pump_hvac_mode",
                  "run_id": "fc7608916020dbe2044e460f6552834a"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_heat_pump_hvac_mode",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/1/sequence/1": [
              {
                "path": "action/0/choose/1/sequence/1",
                "timestamp": "2022-10-04T19:16:25.352786+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 72.0,
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "action/0/choose/1/sequence/2": [
              {
                "path": "action/0/choose/1/sequence/2",
                "timestamp": "2022-10-04T19:16:25.493013+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_entities_temp",
            "alias": "Set Climate Entities Temp",
            "description": "Every 15 minutes or whenever climate controller changes states -> decide which hvac mode and temperature all climate entities should be set to",
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "climate.climate_controller"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": {
                      "service": "script.deactivate_all_climate_entities",
                      "data": {
                        "heat_pumps": [
                          "climate.2354_dining_room_heat_pump",
                          "climate.2354_kitchen_heat_pump"
                        ],
                        "boiler_thermostat": "climate.2354_ecobee_thermostat"
                      }
                    }
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "on"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') | float }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "climate.set_hvac_mode",
                        "data": {
                          "hvac_mode": "off"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "hvac_mode": "heat",
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_preset_mode",
                    "data": {
                      "preset_mode": "BACKUP HEAT"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6V1ZXVH6QYE0P4TPXFM62",
            "parent_id": "01GEJ6V1ZMN0M7CHKH5R4DG7TK",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/1/sequence/2",
          "run_id": "6467f5acc7decf5aedee215ab44a1602",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:25.213991+00:00",
            "finish": "2022-10-04T19:16:26.183422+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/choose/1/sequence/2",
          "run_id": "ca88bc24c1403fd0d61d56b49f705bea",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:30:00.002310+00:00",
            "finish": "2022-10-04T19:30:01.007433+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "time pattern",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-04T19:30:00.002657+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_entities_temp",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:25.214484+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_entities_temp",
                      "friendly_name": "Set Climate Entities Temp"
                    },
                    "last_changed": "2022-10-04T19:26:25.164421+00:00",
                    "last_updated": "2022-10-04T19:26:25.164421+00:00",
                    "context": {
                      "id": "01GEJ7DBWCQ4K2ASKVT1ZMNVZ4",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "time_pattern",
                    "now": "2022-10-04T14:30:00.000717-05:00",
                    "description": "time pattern"
                  }
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-04T19:30:00.013818+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GEJ7KXP2EE1Q6MTE282YEZKC",
                    "parent_id": null,
                    "user_id": null
                  }
                },
                "result": {
                  "choice": 1
                }
              }
            ],
            "action/0/choose/0": [
              {
                "path": "action/0/choose/0",
                "timestamp": "2022-10-04T19:30:00.020430+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "action/0/choose/0/conditions/0": [
              {
                "path": "action/0/choose/0/conditions/0",
                "timestamp": "2022-10-04T19:30:00.020551+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "action/0/choose/0/conditions/0/entity_id/0": [
              {
                "path": "action/0/choose/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-04T19:30:00.020619+00:00",
                "result": {
                  "result": false,
                  "state": "auto",
                  "wanted_state": "off"
                }
              }
            ],
            "action/0/choose/1": [
              {
                "path": "action/0/choose/1",
                "timestamp": "2022-10-04T19:30:00.020829+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/1/conditions/0": [
              {
                "path": "action/0/choose/1/conditions/0",
                "timestamp": "2022-10-04T19:30:00.020902+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "action/0/choose/1/conditions/0/entity_id/0": [
              {
                "path": "action/0/choose/1/conditions/0/entity_id/0",
                "timestamp": "2022-10-04T19:30:00.020963+00:00",
                "result": {
                  "result": true,
                  "state": "on",
                  "wanted_state": "on"
                }
              }
            ],
            "action/0/choose/1/sequence/0": [
              {
                "path": "action/0/choose/1/sequence/0",
                "timestamp": "2022-10-04T19:30:00.022044+00:00",
                "child_id": {
                  "domain": "script",
                  "item_id": "set_heat_pump_hvac_mode",
                  "run_id": "18dd9289ab61b941eeed5b5c8001b8bb"
                },
                "result": {
                  "params": {
                    "domain": "script",
                    "service": "set_heat_pump_hvac_mode",
                    "service_data": {},
                    "target": {}
                  },
                  "running_script": true,
                  "limit": null
                }
              }
            ],
            "action/0/choose/1/sequence/1": [
              {
                "path": "action/0/choose/1/sequence/1",
                "timestamp": "2022-10-04T19:30:00.038167+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 72.0,
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "action/0/choose/1/sequence/2": [
              {
                "path": "action/0/choose/1/sequence/2",
                "timestamp": "2022-10-04T19:30:00.042586+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_entities_temp",
            "alias": "Set Climate Entities Temp",
            "description": "Every 15 minutes or whenever climate controller changes states -> decide which hvac mode and temperature all climate entities should be set to",
            "trigger": [
              {
                "platform": "time_pattern",
                "minutes": "/15"
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "to": null
              },
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "action": [
              {
                "choose": [
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "climate.climate_controller"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": {
                      "service": "script.deactivate_all_climate_entities",
                      "data": {
                        "heat_pumps": [
                          "climate.2354_dining_room_heat_pump",
                          "climate.2354_kitchen_heat_pump"
                        ],
                        "boiler_thermostat": "climate.2354_ecobee_thermostat"
                      }
                    }
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "on"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "script.set_heat_pump_hvac_mode"
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') | float }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "temperature": 65
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "conditions": [
                      {
                        "condition": "state",
                        "entity_id": [
                          "binary_sensor.use_heat_pump"
                        ],
                        "state": "off"
                      }
                    ],
                    "sequence": [
                      {
                        "service": "climate.set_hvac_mode",
                        "data": {
                          "hvac_mode": "off"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_dining_room_heat_pump",
                            "climate.2354_kitchen_heat_pump"
                          ]
                        }
                      },
                      {
                        "service": "climate.set_temperature",
                        "data": {
                          "hvac_mode": "heat",
                          "temperature": "{{ state_attr('climate.climate_controller', 'temperature') }}"
                        },
                        "target": {
                          "entity_id": [
                            "climate.2354_ecobee_thermostat"
                          ]
                        }
                      }
                    ]
                  }
                ],
                "default": [
                  {
                    "service": "climate.set_preset_mode",
                    "data": {
                      "preset_mode": "BACKUP HEAT"
                    },
                    "target": {
                      "entity_id": "climate.2354_ecobee_thermostat"
                    }
                  }
                ]
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ7KXP2EE1Q6MTE282YEZKC",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/choose/1/sequence/2",
          "run_id": "ca88bc24c1403fd0d61d56b49f705bea",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:30:00.002310+00:00",
            "finish": "2022-10-04T19:30:01.007433+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_entities_temp",
          "trigger": "time pattern"
        }
      }
    ],
    "script.deactivate_all_climate_entities": [
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "970550561637da6b86570aa9ed826e41",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:15:00.021807+00:00",
            "finish": "2022-10-04T19:15:01.963195+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-04T19:15:00.032491+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.deactivate_all_climate_entities",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:00:00.017401+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "deactivate_all_climate_entities"
                    },
                    "last_changed": "2022-10-04T19:13:36.670500+00:00",
                    "last_updated": "2022-10-04T19:13:36.670500+00:00",
                    "context": {
                      "id": "01GEJ6NXCYWHXWWR40DJBYV3MQ",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "boiler_thermostat": "climate.2354_ecobee_thermostat",
                  "backup_temp": 65.0,
                  "backup_preset": "BACKUP HEAT",
                  "context": {
                    "id": "01GEJ6RES2ABHHMREFEFDSQ21T",
                    "parent_id": null,
                    "user_id": null
                  }
                },
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_hvac_mode",
                    "service_data": {
                      "hvac_mode": "off",
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-04T19:15:00.036229+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_preset_mode",
                    "service_data": {
                      "preset_mode": "BACKUP HEAT",
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-04T19:15:01.188529+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65.0,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "description": "Deactivates all the climate entities. This means that all heat pumps will be set to 'off' and all boiler thermostats, set to 65 degrees",
            "variables": {
              "backup_temp": "{{ 65.0 | float }}",
              "backup_preset": "BACKUP HEAT"
            },
            "fields": {
              "heat_pumps": {
                "description": "list the heat pumps in the space that will be set to off",
                "example": "- climate.heat_pump_1 - climete.heat_pump_2",
                "required": true,
                "selector": {
                  "entity": {
                    "multiple": true,
                    "domain": "climate"
                  }
                }
              },
              "boiler_thermostat": {
                "description": "list boiler thermostat for the space that will be set to a backup 65 degree setting",
                "example": "climate.boiler",
                "required": true,
                "selector": {
                  "entity": {
                    "domain": "climate"
                  }
                }
              }
            },
            "mode": "queued",
            "sequence": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "off"
                },
                "target": {
                  "entity_id": "{{ heat_pumps }}"
                }
              },
              {
                "service": "climate.set_preset_mode",
                "data": {
                  "preset_mode": "{{ backup_preset }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              },
              {
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ backup_temp }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6RES2ABHHMREFEFDSQ21T",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "970550561637da6b86570aa9ed826e41",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:15:00.021807+00:00",
            "finish": "2022-10-04T19:15:01.963195+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "4dfa2ffd2dd075b7f4cd874a8e207f80",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:15:48.509977+00:00",
            "finish": "2022-10-04T19:15:50.189779+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-04T19:15:48.516124+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.deactivate_all_climate_entities",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:15:00.022706+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "deactivate_all_climate_entities"
                    },
                    "last_changed": "2022-10-04T19:15:01.960037+00:00",
                    "last_updated": "2022-10-04T19:15:01.960037+00:00",
                    "context": {
                      "id": "01GEJ6RES2ABHHMREFEFDSQ21T",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "boiler_thermostat": "climate.2354_ecobee_thermostat",
                  "backup_temp": 65.0,
                  "backup_preset": "BACKUP HEAT",
                  "context": {
                    "id": "01GEJ6SY4D7X2DFVV0ZQXTNF7V",
                    "parent_id": "01GEJ6SY3ZARCR36BA5D7GBSCE",
                    "user_id": null
                  }
                },
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_hvac_mode",
                    "service_data": {
                      "hvac_mode": "off",
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-04T19:15:48.631515+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_preset_mode",
                    "service_data": {
                      "preset_mode": "BACKUP HEAT",
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-04T19:15:49.459515+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65.0,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "description": "Deactivates all the climate entities. This means that all heat pumps will be set to 'off' and all boiler thermostats, set to 65 degrees",
            "variables": {
              "backup_temp": "{{ 65.0 | float }}",
              "backup_preset": "BACKUP HEAT"
            },
            "fields": {
              "heat_pumps": {
                "description": "list the heat pumps in the space that will be set to off",
                "example": "- climate.heat_pump_1 - climete.heat_pump_2",
                "required": true,
                "selector": {
                  "entity": {
                    "multiple": true,
                    "domain": "climate"
                  }
                }
              },
              "boiler_thermostat": {
                "description": "list boiler thermostat for the space that will be set to a backup 65 degree setting",
                "example": "climate.boiler",
                "required": true,
                "selector": {
                  "entity": {
                    "domain": "climate"
                  }
                }
              }
            },
            "mode": "queued",
            "sequence": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "off"
                },
                "target": {
                  "entity_id": "{{ heat_pumps }}"
                }
              },
              {
                "service": "climate.set_preset_mode",
                "data": {
                  "preset_mode": "{{ backup_preset }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              },
              {
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ backup_temp }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6SY4D7X2DFVV0ZQXTNF7V",
            "parent_id": "01GEJ6SY3ZARCR36BA5D7GBSCE",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "4dfa2ffd2dd075b7f4cd874a8e207f80",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:15:48.509977+00:00",
            "finish": "2022-10-04T19:15:50.189779+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "5b4985abd08c5ee0af4efb3f59006000",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:08.724225+00:00",
            "finish": "2022-10-04T19:16:10.697214+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-04T19:16:08.736347+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.deactivate_all_climate_entities",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:15:48.510354+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "deactivate_all_climate_entities"
                    },
                    "last_changed": "2022-10-04T19:15:50.186110+00:00",
                    "last_updated": "2022-10-04T19:15:50.186110+00:00",
                    "context": {
                      "id": "01GEJ6SY4D7X2DFVV0ZQXTNF7V",
                      "parent_id": "01GEJ6SY3ZARCR36BA5D7GBSCE",
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "boiler_thermostat": "climate.2354_ecobee_thermostat",
                  "backup_temp": 65.0,
                  "backup_preset": "BACKUP HEAT",
                  "context": {
                    "id": "01GEJ6THVX5J3W87Q8Z2YP17RY",
                    "parent_id": "01GEJ6THVB2GBNJB8VX7RD861G",
                    "user_id": null
                  }
                },
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_hvac_mode",
                    "service_data": {
                      "hvac_mode": "off",
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-04T19:16:08.742232+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_preset_mode",
                    "service_data": {
                      "preset_mode": "BACKUP HEAT",
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-04T19:16:09.683793+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65.0,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "description": "Deactivates all the climate entities. This means that all heat pumps will be set to 'off' and all boiler thermostats, set to 65 degrees",
            "variables": {
              "backup_temp": "{{ 65.0 | float }}",
              "backup_preset": "BACKUP HEAT"
            },
            "fields": {
              "heat_pumps": {
                "description": "list the heat pumps in the space that will be set to off",
                "example": "- climate.heat_pump_1 - climete.heat_pump_2",
                "required": true,
                "selector": {
                  "entity": {
                    "multiple": true,
                    "domain": "climate"
                  }
                }
              },
              "boiler_thermostat": {
                "description": "list boiler thermostat for the space that will be set to a backup 65 degree setting",
                "example": "climate.boiler",
                "required": true,
                "selector": {
                  "entity": {
                    "domain": "climate"
                  }
                }
              }
            },
            "mode": "queued",
            "sequence": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "off"
                },
                "target": {
                  "entity_id": "{{ heat_pumps }}"
                }
              },
              {
                "service": "climate.set_preset_mode",
                "data": {
                  "preset_mode": "{{ backup_preset }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              },
              {
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ backup_temp }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6THVX5J3W87Q8Z2YP17RY",
            "parent_id": "01GEJ6THVB2GBNJB8VX7RD861G",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "5b4985abd08c5ee0af4efb3f59006000",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:08.724225+00:00",
            "finish": "2022-10-04T19:16:10.697214+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "9b71c47bdb3baf26480c4397a54a3aee",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:13.810457+00:00",
            "finish": "2022-10-04T19:16:15.228253+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-04T19:16:13.818541+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.deactivate_all_climate_entities",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:08.724611+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "deactivate_all_climate_entities"
                    },
                    "last_changed": "2022-10-04T19:16:10.694189+00:00",
                    "last_updated": "2022-10-04T19:16:10.694189+00:00",
                    "context": {
                      "id": "01GEJ6THVX5J3W87Q8Z2YP17RY",
                      "parent_id": "01GEJ6THVB2GBNJB8VX7RD861G",
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "boiler_thermostat": "climate.2354_ecobee_thermostat",
                  "backup_temp": 65.0,
                  "backup_preset": "BACKUP HEAT",
                  "context": {
                    "id": "01GEJ6TPV69FSR2H5RQXTE2DXN",
                    "parent_id": "01GEJ6TPTTYQRH5XKWJR9VWYHH",
                    "user_id": null
                  }
                },
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_hvac_mode",
                    "service_data": {
                      "hvac_mode": "off",
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-04T19:16:13.822470+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_preset_mode",
                    "service_data": {
                      "preset_mode": "BACKUP HEAT",
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-04T19:16:14.550807+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65.0,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "description": "Deactivates all the climate entities. This means that all heat pumps will be set to 'off' and all boiler thermostats, set to 65 degrees",
            "variables": {
              "backup_temp": "{{ 65.0 | float }}",
              "backup_preset": "BACKUP HEAT"
            },
            "fields": {
              "heat_pumps": {
                "description": "list the heat pumps in the space that will be set to off",
                "example": "- climate.heat_pump_1 - climete.heat_pump_2",
                "required": true,
                "selector": {
                  "entity": {
                    "multiple": true,
                    "domain": "climate"
                  }
                }
              },
              "boiler_thermostat": {
                "description": "list boiler thermostat for the space that will be set to a backup 65 degree setting",
                "example": "climate.boiler",
                "required": true,
                "selector": {
                  "entity": {
                    "domain": "climate"
                  }
                }
              }
            },
            "mode": "queued",
            "sequence": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "off"
                },
                "target": {
                  "entity_id": "{{ heat_pumps }}"
                }
              },
              {
                "service": "climate.set_preset_mode",
                "data": {
                  "preset_mode": "{{ backup_preset }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              },
              {
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ backup_temp }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6TPV69FSR2H5RQXTE2DXN",
            "parent_id": "01GEJ6TPTTYQRH5XKWJR9VWYHH",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "9b71c47bdb3baf26480c4397a54a3aee",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:13.810457+00:00",
            "finish": "2022-10-04T19:16:15.228253+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities"
        }
      },
      {
        "extended_dict": {
          "last_step": "sequence/2",
          "run_id": "938d17a9a67cfd4a48aaf56d1dd781b3",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:19.442847+00:00",
            "finish": "2022-10-04T19:16:21.076226+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities",
          "trace": {
            "sequence/0": [
              {
                "path": "sequence/0",
                "timestamp": "2022-10-04T19:16:19.448948+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "script.deactivate_all_climate_entities",
                    "state": "off",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:13.810838+00:00",
                      "mode": "queued",
                      "current": 0,
                      "max": 10,
                      "friendly_name": "deactivate_all_climate_entities"
                    },
                    "last_changed": "2022-10-04T19:16:15.224426+00:00",
                    "last_updated": "2022-10-04T19:16:15.224426+00:00",
                    "context": {
                      "id": "01GEJ6TPV69FSR2H5RQXTE2DXN",
                      "parent_id": "01GEJ6TPTTYQRH5XKWJR9VWYHH",
                      "user_id": null
                    }
                  },
                  "heat_pumps": [
                    "climate.2354_dining_room_heat_pump",
                    "climate.2354_kitchen_heat_pump"
                  ],
                  "boiler_thermostat": "climate.2354_ecobee_thermostat",
                  "backup_temp": 65.0,
                  "backup_preset": "BACKUP HEAT",
                  "context": {
                    "id": "01GEJ6TWB5E981M6GY24P5XT91",
                    "parent_id": "01GEJ6TWAVPBD87WD6254KNKM3",
                    "user_id": null
                  }
                },
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_hvac_mode",
                    "service_data": {
                      "hvac_mode": "off",
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_dining_room_heat_pump",
                        "climate.2354_kitchen_heat_pump"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/1": [
              {
                "path": "sequence/1",
                "timestamp": "2022-10-04T19:16:19.455739+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_preset_mode",
                    "service_data": {
                      "preset_mode": "BACKUP HEAT",
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ],
            "sequence/2": [
              {
                "path": "sequence/2",
                "timestamp": "2022-10-04T19:16:20.283516+00:00",
                "result": {
                  "params": {
                    "domain": "climate",
                    "service": "set_temperature",
                    "service_data": {
                      "temperature": 65.0,
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    },
                    "target": {
                      "entity_id": [
                        "climate.2354_ecobee_thermostat"
                      ]
                    }
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "description": "Deactivates all the climate entities. This means that all heat pumps will be set to 'off' and all boiler thermostats, set to 65 degrees",
            "variables": {
              "backup_temp": "{{ 65.0 | float }}",
              "backup_preset": "BACKUP HEAT"
            },
            "fields": {
              "heat_pumps": {
                "description": "list the heat pumps in the space that will be set to off",
                "example": "- climate.heat_pump_1 - climete.heat_pump_2",
                "required": true,
                "selector": {
                  "entity": {
                    "multiple": true,
                    "domain": "climate"
                  }
                }
              },
              "boiler_thermostat": {
                "description": "list boiler thermostat for the space that will be set to a backup 65 degree setting",
                "example": "climate.boiler",
                "required": true,
                "selector": {
                  "entity": {
                    "domain": "climate"
                  }
                }
              }
            },
            "mode": "queued",
            "sequence": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "off"
                },
                "target": {
                  "entity_id": "{{ heat_pumps }}"
                }
              },
              {
                "service": "climate.set_preset_mode",
                "data": {
                  "preset_mode": "{{ backup_preset }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              },
              {
                "service": "climate.set_temperature",
                "data": {
                  "temperature": "{{ backup_temp }}"
                },
                "target": {
                  "entity_id": "{{ boiler_thermostat }}"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GEJ6TWB5E981M6GY24P5XT91",
            "parent_id": "01GEJ6TWAVPBD87WD6254KNKM3",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "sequence/2",
          "run_id": "938d17a9a67cfd4a48aaf56d1dd781b3",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-04T19:16:19.442847+00:00",
            "finish": "2022-10-04T19:16:21.076226+00:00"
          },
          "domain": "script",
          "item_id": "deactivate_all_climate_entities"
        }
      }
    ],
    "automation.set_climate_controller_hvac_mode": [
      {
        "extended_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "b8236fcdaba312b7ee41db087a49b45e",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:08:01.641654+00:00",
            "finish": "2022-10-18T01:08:01.642251+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-18T01:08:01.641867+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_controller_hvac_mode",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:08.701121+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_controller_hvac_mode",
                      "friendly_name": "Set climate_controller HVAC Mode"
                    },
                    "last_changed": "2022-10-18T00:12:27.491525+00:00",
                    "last_updated": "2022-10-18T00:12:27.491525+00:00",
                    "context": {
                      "id": "01GFM6YEZ3ZQ7965XWPCVFX2S4",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 71,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T00:12:24.190213+00:00",
                      "last_updated": "2022-10-18T01:05:38.710500+00:00",
                      "context": {
                        "id": "01GFM9ZVCJ3ADBQGH9XD1DCJSF",
                        "parent_id": null,
                        "user_id": null
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 70,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T00:12:24.190213+00:00",
                      "last_updated": "2022-10-18T01:08:01.631130+00:00",
                      "context": {
                        "id": "01GFMA46YW9H1XDMD6WHF6Z4E2",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": "temperature",
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-18T01:08:01.641970+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "condition/0/conditions/0": [
              {
                "path": "condition/0/conditions/0",
                "timestamp": "2022-10-18T01:08:01.642041+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "condition/0/conditions/0/entity_id/0": [
              {
                "path": "condition/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-18T01:08:01.642102+00:00",
                "result": {
                  "result": true,
                  "state": "auto",
                  "wanted_state": "auto"
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_controller_hvac_mode",
            "alias": "Set climate_controller HVAC Mode",
            "description": "Whenever the target_temperature changes on climate_controller, set hvac to auto",
            "trigger": [
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "condition": {
              "not": [
                {
                  "condition": "state",
                  "entity_id": [
                    "climate.climate_controller"
                  ],
                  "state": "auto"
                }
              ]
            },
            "action": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "auto"
                },
                "target": {
                  "entity_id": "climate.climate_controller"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMA46Z9Z5FNYA32VWNC8XTK",
            "parent_id": "01GFMA46YW9H1XDMD6WHF6Z4E2",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "b8236fcdaba312b7ee41db087a49b45e",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:08:01.641654+00:00",
            "finish": "2022-10-18T01:08:01.642251+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "3008563ca9e4b5203ec94ba367942fd7",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:08:54.449423+00:00",
            "finish": "2022-10-18T01:08:54.449940+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-18T01:08:54.449555+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_controller_hvac_mode",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:08.701121+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_controller_hvac_mode",
                      "friendly_name": "Set climate_controller HVAC Mode"
                    },
                    "last_changed": "2022-10-18T00:12:27.491525+00:00",
                    "last_updated": "2022-10-18T00:12:27.491525+00:00",
                    "context": {
                      "id": "01GFM6YEZ3ZQ7965XWPCVFX2S4",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 70,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T00:12:24.190213+00:00",
                      "last_updated": "2022-10-18T01:08:01.631130+00:00",
                      "context": {
                        "id": "01GFMA46YW9H1XDMD6WHF6Z4E2",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 67,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T00:12:24.190213+00:00",
                      "last_updated": "2022-10-18T01:08:54.440621+00:00",
                      "context": {
                        "id": "01GFMA5TH1ZH5RGCWQNS42S4WE",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": "temperature",
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-18T01:08:54.449631+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "condition/0/conditions/0": [
              {
                "path": "condition/0/conditions/0",
                "timestamp": "2022-10-18T01:08:54.449757+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "condition/0/conditions/0/entity_id/0": [
              {
                "path": "condition/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-18T01:08:54.449812+00:00",
                "result": {
                  "result": true,
                  "state": "auto",
                  "wanted_state": "auto"
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_controller_hvac_mode",
            "alias": "Set climate_controller HVAC Mode",
            "description": "Whenever the target_temperature changes on climate_controller, set hvac to auto",
            "trigger": [
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "condition": {
              "not": [
                {
                  "condition": "state",
                  "entity_id": [
                    "climate.climate_controller"
                  ],
                  "state": "auto"
                }
              ]
            },
            "action": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "auto"
                },
                "target": {
                  "entity_id": "climate.climate_controller"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMA5THHS9TYMJCQ0D42SD56",
            "parent_id": "01GFMA5TH1ZH5RGCWQNS42S4WE",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "3008563ca9e4b5203ec94ba367942fd7",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:08:54.449423+00:00",
            "finish": "2022-10-18T01:08:54.449940+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "cf08017654ebc72f18aeae10fa80cf22",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:10:19.822009+00:00",
            "finish": "2022-10-18T01:10:19.822612+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-18T01:10:19.822174+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_controller_hvac_mode",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:08.701121+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_controller_hvac_mode",
                      "friendly_name": "Set climate_controller HVAC Mode"
                    },
                    "last_changed": "2022-10-18T01:09:58.854662+00:00",
                    "last_updated": "2022-10-18T01:09:58.854662+00:00",
                    "context": {
                      "id": "01GFMA7SE6S1RRXT5QPC94YK1A",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 67,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:09:55.042004+00:00",
                      "last_updated": "2022-10-18T01:09:55.042004+00:00",
                      "context": {
                        "id": "01GFMA7NQ2DE11443GE1YB4CPV",
                        "parent_id": null,
                        "user_id": null
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 71,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:09:55.042004+00:00",
                      "last_updated": "2022-10-18T01:10:19.812112+00:00",
                      "context": {
                        "id": "01GFMA8DWZWHYJT3RWACRXPYPV",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": "temperature",
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-18T01:10:19.822311+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "condition/0/conditions/0": [
              {
                "path": "condition/0/conditions/0",
                "timestamp": "2022-10-18T01:10:19.822394+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "condition/0/conditions/0/entity_id/0": [
              {
                "path": "condition/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-18T01:10:19.822453+00:00",
                "result": {
                  "result": true,
                  "state": "auto",
                  "wanted_state": "auto"
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_controller_hvac_mode",
            "alias": "Set climate_controller HVAC Mode",
            "description": "Whenever the target_temperature changes on climate_controller, set hvac to auto",
            "trigger": [
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "condition": {
              "not": [
                {
                  "condition": "state",
                  "entity_id": [
                    "climate.climate_controller"
                  ],
                  "state": "auto"
                }
              ]
            },
            "action": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "auto"
                },
                "target": {
                  "entity_id": "climate.climate_controller"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMA8DXD36PSHVWENBW3JFBX",
            "parent_id": "01GFMA8DWZWHYJT3RWACRXPYPV",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "cf08017654ebc72f18aeae10fa80cf22",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:10:19.822009+00:00",
            "finish": "2022-10-18T01:10:19.822612+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "54134310489f8985a0298350f5bcded3",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:11:12.998101+00:00",
            "finish": "2022-10-18T01:11:12.998602+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-18T01:11:12.998246+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_controller_hvac_mode",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:08.701121+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_controller_hvac_mode",
                      "friendly_name": "Set climate_controller HVAC Mode"
                    },
                    "last_changed": "2022-10-18T01:09:58.854662+00:00",
                    "last_updated": "2022-10-18T01:09:58.854662+00:00",
                    "context": {
                      "id": "01GFMA7SE6S1RRXT5QPC94YK1A",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 71,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:11:08.845182+00:00",
                      "last_updated": "2022-10-18T01:11:08.845182+00:00",
                      "context": {
                        "id": "01GFMA9XSAXMWZC22EP6NCBYY4",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:11:08.845182+00:00",
                      "last_updated": "2022-10-18T01:11:12.985739+00:00",
                      "context": {
                        "id": "01GFMAA1TQTA70A5W87H1SVTZG",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": "temperature",
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-18T01:11:12.998334+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "condition/0/conditions/0": [
              {
                "path": "condition/0/conditions/0",
                "timestamp": "2022-10-18T01:11:12.998404+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "condition/0/conditions/0/entity_id/0": [
              {
                "path": "condition/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-18T01:11:12.998464+00:00",
                "result": {
                  "result": true,
                  "state": "auto",
                  "wanted_state": "auto"
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_controller_hvac_mode",
            "alias": "Set climate_controller HVAC Mode",
            "description": "Whenever the target_temperature changes on climate_controller, set hvac to auto",
            "trigger": [
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "condition": {
              "not": [
                {
                  "condition": "state",
                  "entity_id": [
                    "climate.climate_controller"
                  ],
                  "state": "auto"
                }
              ]
            },
            "action": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "auto"
                },
                "target": {
                  "entity_id": "climate.climate_controller"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMAA1V59WT5V9KNDG2DY549",
            "parent_id": "01GFMAA1TQTA70A5W87H1SVTZG",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "54134310489f8985a0298350f5bcded3",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:11:12.998101+00:00",
            "finish": "2022-10-18T01:11:12.998602+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller"
        }
      },
      {
        "extended_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "98ad5d1b3d9cde499e0854f8f2d54a0a",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:24:33.460426+00:00",
            "finish": "2022-10-18T01:24:33.461424+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-18T01:24:33.460769+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.set_climate_controller_hvac_mode",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-04T19:16:08.701121+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "set_climate_controller_hvac_mode",
                      "friendly_name": "Set climate_controller HVAC Mode"
                    },
                    "last_changed": "2022-10-18T01:23:59.675977+00:00",
                    "last_updated": "2022-10-18T01:23:59.675977+00:00",
                    "context": {
                      "id": "01GFMB1EHV01ZQQJR2NDB6NK7M",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "state",
                    "entity_id": "climate.climate_controller",
                    "from_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 72,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:24:27.424817+00:00",
                      "last_updated": "2022-10-18T01:24:27.424817+00:00",
                      "context": {
                        "id": "01GFMB29MYB4ENSC13ZEYX2K2J",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "to_state": {
                      "entity_id": "climate.climate_controller",
                      "state": "auto",
                      "attributes": {
                        "hvac_modes": [
                          "auto",
                          "off"
                        ],
                        "min_temp": 65,
                        "max_temp": 85,
                        "target_temp_step": 1.0,
                        "current_temperature": 71,
                        "temperature": 70,
                        "current_humidity": 48.0,
                        "friendly_name": "climate_controller",
                        "supported_features": 1
                      },
                      "last_changed": "2022-10-18T01:24:27.424817+00:00",
                      "last_updated": "2022-10-18T01:24:33.453866+00:00",
                      "context": {
                        "id": "01GFMB2FHBNS0E3HQM8HNFZA71",
                        "parent_id": null,
                        "user_id": "94e5688bbe0941a6b92c3a02c5db079e"
                      }
                    },
                    "for": null,
                    "attribute": "temperature",
                    "description": "state of climate.climate_controller"
                  }
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-18T01:24:33.460935+00:00",
                "result": {
                  "result": false
                }
              }
            ],
            "condition/0/conditions/0": [
              {
                "path": "condition/0/conditions/0",
                "timestamp": "2022-10-18T01:24:33.461061+00:00",
                "result": {
                  "result": true
                }
              }
            ],
            "condition/0/conditions/0/entity_id/0": [
              {
                "path": "condition/0/conditions/0/entity_id/0",
                "timestamp": "2022-10-18T01:24:33.461174+00:00",
                "result": {
                  "result": true,
                  "state": "auto",
                  "wanted_state": "auto"
                }
              }
            ]
          },
          "config": {
            "id": "set_climate_controller_hvac_mode",
            "alias": "Set climate_controller HVAC Mode",
            "description": "Whenever the target_temperature changes on climate_controller, set hvac to auto",
            "trigger": [
              {
                "platform": "state",
                "entity_id": "climate.climate_controller",
                "attribute": "temperature"
              }
            ],
            "condition": {
              "not": [
                {
                  "condition": "state",
                  "entity_id": [
                    "climate.climate_controller"
                  ],
                  "state": "auto"
                }
              ]
            },
            "action": [
              {
                "service": "climate.set_hvac_mode",
                "data": {
                  "hvac_mode": "auto"
                },
                "target": {
                  "entity_id": "climate.climate_controller"
                }
              }
            ]
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GFMB2FHM0QT1S2WE8R52CFD3",
            "parent_id": "01GFMB2FHBNS0E3HQM8HNFZA71",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "condition/0/conditions/0/entity_id/0",
          "run_id": "98ad5d1b3d9cde499e0854f8f2d54a0a",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-18T01:24:33.460426+00:00",
            "finish": "2022-10-18T01:24:33.461424+00:00"
          },
          "domain": "automation",
          "item_id": "set_climate_controller_hvac_mode",
          "trigger": "state of climate.climate_controller"
        }
      }
    ],
    "automation.1663642159401": [
      {
        "extended_dict": {
          "last_step": "action/0/default/0",
          "run_id": "f701e8be71a32cd70059d5b2262681e7",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-08T15:00:00.003381+00:00",
            "finish": "2022-10-08T15:00:00.262507+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-08T15:00:00.015072+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.low_battery_level_detection_notification_for_all_battery_sensors",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-07T15:00:00.015918+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1663642159401",
                      "friendly_name": "Low battery level detection & notification for all battery sensors"
                    },
                    "last_changed": "2022-10-04T20:47:57.929141+00:00",
                    "last_updated": "2022-10-07T15:00:00.675292+00:00",
                    "context": {
                      "id": "01GESFBPC2B20S6B3E6FM82SWS",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "time",
                    "now": "2022-10-08T10:00:00.001423-05:00",
                    "description": "time",
                    "entity_id": null
                  },
                  "day": 0,
                  "threshold": 15,
                  "exclude": {
                    "entity_id": [
                      "sensor.pixel_5a_battery_level",
                      "sensor.leeza_battery_level"
                    ]
                  },
                  "sensors": "2354 Thermostat Terminal Battery Level (0 %)"
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-08T15:00:00.015304+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-08T15:00:00.017928+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GEW1RDC3N8XTFRAEXWC9FNF0",
                    "parent_id": null,
                    "user_id": null
                  }
                },
                "result": {
                  "choice": "default"
                }
              }
            ],
            "action/0/default/0": [
              {
                "path": "action/0/default/0",
                "timestamp": "2022-10-08T15:00:00.019716+00:00",
                "result": {
                  "params": {
                    "domain": "notify",
                    "service": "mobile_app_pixel_5a",
                    "service_data": {
                      "message": "2354 Thermostat Terminal Battery Level (0 %) is low on battery"
                    },
                    "target": {}
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "variables": {
              "day": 0,
              "threshold": 15,
              "exclude": {
                "entity_id": [
                  "sensor.pixel_5a_battery_level",
                  "sensor.leeza_battery_level"
                ]
              },
              "sensors": "{% set result = namespace(sensors=[]) %} {% for state in states.sensor | selectattr('attributes.device_class', '==', 'battery') %}\n  {% if 0 <= state.state | int(-1) < threshold | int and not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name ~ ' (' ~ state.state ~ ' %)'] %}\n  {% endif %}\n{% endfor %} {% for state in states.binary_sensor | selectattr('attributes.device_class', '==', 'battery') | selectattr('state', '==', 'on') %}\n  {% if not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name] %}\n  {% endif %}\n{% endfor %} {{result.sensors|join(', ')}}"
            },
            "trigger": [
              {
                "platform": "time",
                "at": "10:00:00"
              }
            ],
            "condition": [
              "{{ sensors != '' and (day | int == 0 or day | int == now().isoweekday()) }}"
            ],
            "action": [
              {
                "choose": [],
                "default": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            ],
            "mode": "single",
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": ""
          },
          "blueprint_inputs": {
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": "",
            "use_blueprint": {
              "path": "sbyx/low-battery-level-detection-notification-for-all-battery-sensors.yaml",
              "input": {
                "exclude": {
                  "entity_id": [
                    "sensor.pixel_5a_battery_level",
                    "sensor.leeza_battery_level"
                  ]
                },
                "threshold": 15,
                "actions": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            }
          },
          "context": {
            "id": "01GEW1RDC3N8XTFRAEXWC9FNF0",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/default/0",
          "run_id": "f701e8be71a32cd70059d5b2262681e7",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-08T15:00:00.003381+00:00",
            "finish": "2022-10-08T15:00:00.262507+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/default/0",
          "run_id": "feca1b90e52e693f0cf30e3124f968c9",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-09T15:00:00.002354+00:00",
            "finish": "2022-10-09T15:00:04.945602+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-09T15:00:00.014059+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.low_battery_level_detection_notification_for_all_battery_sensors",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-08T15:00:00.015902+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1663642159401",
                      "friendly_name": "Low battery level detection & notification for all battery sensors"
                    },
                    "last_changed": "2022-10-04T20:47:57.929141+00:00",
                    "last_updated": "2022-10-08T15:00:00.262130+00:00",
                    "context": {
                      "id": "01GEW1RDC3N8XTFRAEXWC9FNF0",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "time",
                    "now": "2022-10-09T10:00:00.000895-05:00",
                    "description": "time",
                    "entity_id": null
                  },
                  "day": 0,
                  "threshold": 15,
                  "exclude": {
                    "entity_id": [
                      "sensor.pixel_5a_battery_level",
                      "sensor.leeza_battery_level"
                    ]
                  },
                  "sensors": "2354 Thermostat Terminal Battery Level (0 %)"
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-09T15:00:00.014194+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-09T15:00:00.016892+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GEYM54C29TYFBF08ZNDAQP9R",
                    "parent_id": null,
                    "user_id": null
                  }
                },
                "result": {
                  "choice": "default"
                }
              }
            ],
            "action/0/default/0": [
              {
                "path": "action/0/default/0",
                "timestamp": "2022-10-09T15:00:00.018584+00:00",
                "result": {
                  "params": {
                    "domain": "notify",
                    "service": "mobile_app_pixel_5a",
                    "service_data": {
                      "message": "2354 Thermostat Terminal Battery Level (0 %) is low on battery"
                    },
                    "target": {}
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "variables": {
              "day": 0,
              "threshold": 15,
              "exclude": {
                "entity_id": [
                  "sensor.pixel_5a_battery_level",
                  "sensor.leeza_battery_level"
                ]
              },
              "sensors": "{% set result = namespace(sensors=[]) %} {% for state in states.sensor | selectattr('attributes.device_class', '==', 'battery') %}\n  {% if 0 <= state.state | int(-1) < threshold | int and not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name ~ ' (' ~ state.state ~ ' %)'] %}\n  {% endif %}\n{% endfor %} {% for state in states.binary_sensor | selectattr('attributes.device_class', '==', 'battery') | selectattr('state', '==', 'on') %}\n  {% if not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name] %}\n  {% endif %}\n{% endfor %} {{result.sensors|join(', ')}}"
            },
            "trigger": [
              {
                "platform": "time",
                "at": "10:00:00"
              }
            ],
            "condition": [
              "{{ sensors != '' and (day | int == 0 or day | int == now().isoweekday()) }}"
            ],
            "action": [
              {
                "choose": [],
                "default": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            ],
            "mode": "single",
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": ""
          },
          "blueprint_inputs": {
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": "",
            "use_blueprint": {
              "path": "sbyx/low-battery-level-detection-notification-for-all-battery-sensors.yaml",
              "input": {
                "exclude": {
                  "entity_id": [
                    "sensor.pixel_5a_battery_level",
                    "sensor.leeza_battery_level"
                  ]
                },
                "threshold": 15,
                "actions": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            }
          },
          "context": {
            "id": "01GEYM54C29TYFBF08ZNDAQP9R",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/default/0",
          "run_id": "feca1b90e52e693f0cf30e3124f968c9",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-09T15:00:00.002354+00:00",
            "finish": "2022-10-09T15:00:04.945602+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time"
        }
      },
      {
        "extended_dict": {
          "last_step": "action/0/default/0",
          "run_id": "1276881b69d89a0063c212b0d2acfd17",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-10T15:00:00.003392+00:00",
            "finish": "2022-10-10T15:00:00.350891+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-10T15:00:00.015012+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.low_battery_level_detection_notification_for_all_battery_sensors",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-09T15:00:00.014840+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1663642159401",
                      "friendly_name": "Low battery level detection & notification for all battery sensors"
                    },
                    "last_changed": "2022-10-04T20:47:57.929141+00:00",
                    "last_updated": "2022-10-09T15:00:04.943570+00:00",
                    "context": {
                      "id": "01GEYM54C29TYFBF08ZNDAQP9R",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "time",
                    "now": "2022-10-10T10:00:00.001546-05:00",
                    "description": "time",
                    "entity_id": null
                  },
                  "day": 0,
                  "threshold": 15,
                  "exclude": {
                    "entity_id": [
                      "sensor.pixel_5a_battery_level",
                      "sensor.leeza_battery_level"
                    ]
                  },
                  "sensors": "2354 Thermostat Terminal Battery Level (0 %)"
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-10T15:00:00.015161+00:00",
                "result": {
                  "result": true,
                  "entities": []
                }
              }
            ],
            "action/0": [
              {
                "path": "action/0",
                "timestamp": "2022-10-10T15:00:00.021971+00:00",
                "changed_variables": {
                  "context": {
                    "id": "01GF16HVC3YKQH4EEVK67ZSEVV",
                    "parent_id": null,
                    "user_id": null
                  }
                },
                "result": {
                  "choice": "default"
                }
              }
            ],
            "action/0/default/0": [
              {
                "path": "action/0/default/0",
                "timestamp": "2022-10-10T15:00:00.025769+00:00",
                "result": {
                  "params": {
                    "domain": "notify",
                    "service": "mobile_app_pixel_5a",
                    "service_data": {
                      "message": "2354 Thermostat Terminal Battery Level (0 %) is low on battery"
                    },
                    "target": {}
                  },
                  "running_script": false,
                  "limit": 10
                }
              }
            ]
          },
          "config": {
            "variables": {
              "day": 0,
              "threshold": 15,
              "exclude": {
                "entity_id": [
                  "sensor.pixel_5a_battery_level",
                  "sensor.leeza_battery_level"
                ]
              },
              "sensors": "{% set result = namespace(sensors=[]) %} {% for state in states.sensor | selectattr('attributes.device_class', '==', 'battery') %}\n  {% if 0 <= state.state | int(-1) < threshold | int and not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name ~ ' (' ~ state.state ~ ' %)'] %}\n  {% endif %}\n{% endfor %} {% for state in states.binary_sensor | selectattr('attributes.device_class', '==', 'battery') | selectattr('state', '==', 'on') %}\n  {% if not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name] %}\n  {% endif %}\n{% endfor %} {{result.sensors|join(', ')}}"
            },
            "trigger": [
              {
                "platform": "time",
                "at": "10:00:00"
              }
            ],
            "condition": [
              "{{ sensors != '' and (day | int == 0 or day | int == now().isoweekday()) }}"
            ],
            "action": [
              {
                "choose": [],
                "default": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            ],
            "mode": "single",
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": ""
          },
          "blueprint_inputs": {
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": "",
            "use_blueprint": {
              "path": "sbyx/low-battery-level-detection-notification-for-all-battery-sensors.yaml",
              "input": {
                "exclude": {
                  "entity_id": [
                    "sensor.pixel_5a_battery_level",
                    "sensor.leeza_battery_level"
                  ]
                },
                "threshold": 15,
                "actions": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            }
          },
          "context": {
            "id": "01GF16HVC3YKQH4EEVK67ZSEVV",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "action/0/default/0",
          "run_id": "1276881b69d89a0063c212b0d2acfd17",
          "state": "stopped",
          "script_execution": "finished",
          "timestamp": {
            "start": "2022-10-10T15:00:00.003392+00:00",
            "finish": "2022-10-10T15:00:00.350891+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time"
        }
      },
      {
        "extended_dict": {
          "last_step": "condition/0",
          "run_id": "70353c950ee551e7afc2b2fdac8633e7",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-11T15:00:00.011387+00:00",
            "finish": "2022-10-11T15:00:00.025370+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-11T15:00:00.024847+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.low_battery_level_detection_notification_for_all_battery_sensors",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-10T15:00:00.015846+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1663642159401",
                      "friendly_name": "Low battery level detection & notification for all battery sensors"
                    },
                    "last_changed": "2022-10-11T14:48:28.046916+00:00",
                    "last_updated": "2022-10-11T14:48:28.046916+00:00",
                    "context": {
                      "id": "01GF3R9EME8B0KK1G3ZE06KA24",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "time",
                    "now": "2022-10-11T10:00:00.001947-05:00",
                    "description": "time",
                    "entity_id": null
                  },
                  "day": 0,
                  "threshold": 15,
                  "exclude": {
                    "entity_id": [
                      "sensor.pixel_5a_battery_level",
                      "sensor.leeza_battery_level"
                    ]
                  },
                  "sensors": ""
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-11T15:00:00.024986+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ]
          },
          "config": {
            "variables": {
              "day": 0,
              "threshold": 15,
              "exclude": {
                "entity_id": [
                  "sensor.pixel_5a_battery_level",
                  "sensor.leeza_battery_level"
                ]
              },
              "sensors": "{% set result = namespace(sensors=[]) %} {% for state in states.sensor | selectattr('attributes.device_class', '==', 'battery') %}\n  {% if 0 <= state.state | int(-1) < threshold | int and not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name ~ ' (' ~ state.state ~ ' %)'] %}\n  {% endif %}\n{% endfor %} {% for state in states.binary_sensor | selectattr('attributes.device_class', '==', 'battery') | selectattr('state', '==', 'on') %}\n  {% if not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name] %}\n  {% endif %}\n{% endfor %} {{result.sensors|join(', ')}}"
            },
            "trigger": [
              {
                "platform": "time",
                "at": "10:00:00"
              }
            ],
            "condition": [
              "{{ sensors != '' and (day | int == 0 or day | int == now().isoweekday()) }}"
            ],
            "action": [
              {
                "choose": [],
                "default": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            ],
            "mode": "single",
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": ""
          },
          "blueprint_inputs": {
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": "",
            "use_blueprint": {
              "path": "sbyx/low-battery-level-detection-notification-for-all-battery-sensors.yaml",
              "input": {
                "exclude": {
                  "entity_id": [
                    "sensor.pixel_5a_battery_level",
                    "sensor.leeza_battery_level"
                  ]
                },
                "threshold": 15,
                "actions": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            }
          },
          "context": {
            "id": "01GF3RYJCBEYZDHSPQN3BJF8EX",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "condition/0",
          "run_id": "70353c950ee551e7afc2b2fdac8633e7",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-11T15:00:00.011387+00:00",
            "finish": "2022-10-11T15:00:00.025370+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time"
        }
      },
      {
        "extended_dict": {
          "last_step": "condition/0",
          "run_id": "316fbbeb09c4b7b0e86e69837e8a63c9",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-12T15:00:00.004530+00:00",
            "finish": "2022-10-12T15:00:00.018066+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-12T15:00:00.017340+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.low_battery_level_detection_notification_for_all_battery_sensors",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-10-10T15:00:00.015846+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1663642159401",
                      "friendly_name": "Low battery level detection & notification for all battery sensors"
                    },
                    "last_changed": "2022-10-11T14:48:28.046916+00:00",
                    "last_updated": "2022-10-11T14:48:28.046916+00:00",
                    "context": {
                      "id": "01GF3R9EME8B0KK1G3ZE06KA24",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "time",
                    "now": "2022-10-12T10:00:00.002653-05:00",
                    "description": "time",
                    "entity_id": null
                  },
                  "day": 0,
                  "threshold": 15,
                  "exclude": {
                    "entity_id": [
                      "sensor.pixel_5a_battery_level",
                      "sensor.leeza_battery_level"
                    ]
                  },
                  "sensors": ""
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-12T15:00:00.017673+00:00",
                "result": {
                  "result": false,
                  "entities": []
                }
              }
            ]
          },
          "config": {
            "variables": {
              "day": 0,
              "threshold": 15,
              "exclude": {
                "entity_id": [
                  "sensor.pixel_5a_battery_level",
                  "sensor.leeza_battery_level"
                ]
              },
              "sensors": "{% set result = namespace(sensors=[]) %} {% for state in states.sensor | selectattr('attributes.device_class', '==', 'battery') %}\n  {% if 0 <= state.state | int(-1) < threshold | int and not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name ~ ' (' ~ state.state ~ ' %)'] %}\n  {% endif %}\n{% endfor %} {% for state in states.binary_sensor | selectattr('attributes.device_class', '==', 'battery') | selectattr('state', '==', 'on') %}\n  {% if not state.entity_id in exclude.entity_id %}\n    {% set result.sensors = result.sensors + [state.name] %}\n  {% endif %}\n{% endfor %} {{result.sensors|join(', ')}}"
            },
            "trigger": [
              {
                "platform": "time",
                "at": "10:00:00"
              }
            ],
            "condition": [
              "{{ sensors != '' and (day | int == 0 or day | int == now().isoweekday()) }}"
            ],
            "action": [
              {
                "choose": [],
                "default": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            ],
            "mode": "single",
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": ""
          },
          "blueprint_inputs": {
            "id": "1663642159401",
            "alias": "Low battery level detection & notification for all battery sensors",
            "description": "",
            "use_blueprint": {
              "path": "sbyx/low-battery-level-detection-notification-for-all-battery-sensors.yaml",
              "input": {
                "exclude": {
                  "entity_id": [
                    "sensor.pixel_5a_battery_level",
                    "sensor.leeza_battery_level"
                  ]
                },
                "threshold": 15,
                "actions": [
                  {
                    "service": "notify.mobile_app_pixel_5a",
                    "data": {
                      "message": "{{sensors}} is low on battery"
                    }
                  }
                ]
              }
            }
          },
          "context": {
            "id": "01GF6BB9C4XQFGYA8352WTZ80J",
            "parent_id": null,
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "condition/0",
          "run_id": "316fbbeb09c4b7b0e86e69837e8a63c9",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-12T15:00:00.004530+00:00",
            "finish": "2022-10-12T15:00:00.018066+00:00"
          },
          "domain": "automation",
          "item_id": "1663642159401",
          "trigger": "time"
        }
      }
    ],
    "automation.1663043688965": [
      {
        "extended_dict": {
          "last_step": "condition/0",
          "run_id": "25d8301a228f2b8897342235b3e32e84",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-10T17:23:49.214285+00:00",
            "finish": "2022-10-10T17:23:49.214896+00:00"
          },
          "domain": "automation",
          "item_id": "1663043688965",
          "trigger": "state of cover.garage_door",
          "trace": {
            "trigger/0": [
              {
                "path": "trigger/0",
                "timestamp": "2022-10-10T17:23:49.214513+00:00",
                "changed_variables": {
                  "this": {
                    "entity_id": "automation.late_night_garage_closer",
                    "state": "on",
                    "attributes": {
                      "last_triggered": "2022-09-20T03:12:16.170154+00:00",
                      "mode": "single",
                      "current": 0,
                      "id": "1663043688965",
                      "friendly_name": "Late Night Garage Closer"
                    },
                    "last_changed": "2022-10-10T16:22:43.411614+00:00",
                    "last_updated": "2022-10-10T16:22:43.411614+00:00",
                    "context": {
                      "id": "01GF1B9AEK9AA1REHNAQ5QJG9S",
                      "parent_id": null,
                      "user_id": null
                    }
                  },
                  "trigger": {
                    "id": "0",
                    "idx": "0",
                    "alias": null,
                    "platform": "device",
                    "entity_id": "cover.garage_door",
                    "from_state": {
                      "entity_id": "cover.garage_door",
                      "state": "opening",
                      "attributes": {
                        "device_class": "garage",
                        "friendly_name": "Garage Door",
                        "supported_features": 3
                      },
                      "last_changed": "2022-10-10T17:18:34.314115+00:00",
                      "last_updated": "2022-10-10T17:18:34.314115+00:00",
                      "context": {
                        "id": "01GF1EFJTAK7KCHPNTSS1NA23D",
                        "parent_id": null,
                        "user_id": null
                      }
                    },
                    "to_state": {
                      "entity_id": "cover.garage_door",
                      "state": "open",
                      "attributes": {
                        "device_class": "garage",
                        "friendly_name": "Garage Door",
                        "supported_features": 3
                      },
                      "last_changed": "2022-10-10T17:18:49.206809+00:00",
                      "last_updated": "2022-10-10T17:18:49.206809+00:00",
                      "context": {
                        "id": "01GF1EG1BPDR0T9VK297M1FATX",
                        "parent_id": null,
                        "user_id": null
                      }
                    },
                    "for": {
                      "__type": "<class 'datetime.timedelta'>",
                      "total_seconds": 300.0
                    },
                    "attribute": null,
                    "description": "state of cover.garage_door"
                  }
                }
              }
            ],
            "condition/0": [
              {
                "path": "condition/0",
                "timestamp": "2022-10-10T17:23:49.214680+00:00",
                "result": {
                  "after": {
                    "__type": "<class 'datetime.time'>",
                    "isoformat": "22:00:00"
                  },
                  "now_time": {
                    "__type": "<class 'datetime.time'>",
                    "isoformat": "12:23:49.214755"
                  },
                  "before": {
                    "__type": "<class 'datetime.time'>",
                    "isoformat": "07:00:00"
                  },
                  "result": false
                }
              }
            ]
          },
          "config": {
            "id": "1663043688965",
            "alias": "Late Night Garage Closer",
            "description": "Tries to close the garage door every 15 minutes from 10 pm to 5 am",
            "trigger": [
              {
                "platform": "device",
                "device_id": "1866389b89ebb7c25f7e5a3da59e7643",
                "domain": "cover",
                "entity_id": "cover.garage_door",
                "type": "opened",
                "for": {
                  "hours": 0,
                  "minutes": 5,
                  "seconds": 0
                }
              }
            ],
            "condition": [
              {
                "condition": "time",
                "before": "07:00:00",
                "after": "22:00:00",
                "weekday": [
                  "mon",
                  "tue",
                  "wed",
                  "thu",
                  "fri",
                  "sat",
                  "sun"
                ]
              }
            ],
            "action": [
              {
                "service": "cover.close_cover",
                "data": {},
                "target": {
                  "entity_id": "cover.garage_door"
                }
              }
            ],
            "mode": "single"
          },
          "blueprint_inputs": null,
          "context": {
            "id": "01GF1ES6AYJKPKP2A2TMQH0HF8",
            "parent_id": "01GF1EG1BPDR0T9VK297M1FATX",
            "user_id": null
          }
        },
        "short_dict": {
          "last_step": "condition/0",
          "run_id": "25d8301a228f2b8897342235b3e32e84",
          "state": "stopped",
          "script_execution": "failed_conditions",
          "timestamp": {
            "start": "2022-10-10T17:23:49.214285+00:00",
            "finish": "2022-10-10T17:23:49.214896+00:00"
          },
          "domain": "automation",
          "item_id": "1663043688965",
          "trigger": "state of cover.garage_door"
        }
      }
    ]
  }
}